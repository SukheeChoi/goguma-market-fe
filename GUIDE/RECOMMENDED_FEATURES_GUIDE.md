# ê³ êµ¬ë§ˆ ë§ˆì¼“ ì¶”ê°€ ê¸°ëŠ¥ êµ¬í˜„ ê°€ì´ë“œ

ì´ ë¬¸ì„œëŠ” í˜„ì¬ í”„ë¡œì íŠ¸ì—ì„œ ì¶”ê°€ë¡œ êµ¬í˜„í•˜ë©´ ì¢‹ì„ ê¸°ëŠ¥ë“¤ê³¼ êµ¬í˜„ ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.

## ëª©ì°¨
1. [ìš°ì„ ìˆœìœ„ ë†’ì€ ê¸°ëŠ¥](#1-ìš°ì„ ìˆœìœ„-ë†’ì€-ê¸°ëŠ¥)
2. [ì£¼ë¬¸ ë° ê²°ì œ ì‹œìŠ¤í…œ](#2-ì£¼ë¬¸-ë°-ê²°ì œ-ì‹œìŠ¤í…œ)
3. [ë¦¬ë·° ë° í‰ì  ì‹œìŠ¤í…œ](#3-ë¦¬ë·°-ë°-í‰ì -ì‹œìŠ¤í…œ)
4. [ì‹¤ì‹œê°„ ì•Œë¦¼ ì‹œìŠ¤í…œ](#4-ì‹¤ì‹œê°„-ì•Œë¦¼-ì‹œìŠ¤í…œ)
5. [ê³ ê¸‰ í•„í„°ë§ ë° ì •ë ¬](#5-ê³ ê¸‰-í•„í„°ë§-ë°-ì •ë ¬)
6. [ìƒí’ˆ ë¹„êµ ê¸°ëŠ¥](#6-ìƒí’ˆ-ë¹„êµ-ê¸°ëŠ¥)
7. [ì¿ í° ë° í¬ì¸íŠ¸ ì‹œìŠ¤í…œ](#7-ì¿ í°-ë°-í¬ì¸íŠ¸-ì‹œìŠ¤í…œ)
8. [ìƒí’ˆ ìƒì„¸ ê°œì„ ](#8-ìƒí’ˆ-ìƒì„¸-ê°œì„ )
9. [ê²€ìƒ‰ ê³ ë„í™”](#9-ê²€ìƒ‰-ê³ ë„í™”)
10. [PWA êµ¬í˜„](#10-pwa-êµ¬í˜„)
11. [ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ](#11-ê´€ë¦¬ì-ëŒ€ì‹œë³´ë“œ)
12. [AI ì¶”ì²œ ì‹œìŠ¤í…œ](#12-ai-ì¶”ì²œ-ì‹œìŠ¤í…œ)

---

## 1. ìš°ì„ ìˆœìœ„ ë†’ì€ ê¸°ëŠ¥

### êµ¬í˜„ ìš°ì„ ìˆœìœ„ ë° ì˜ˆìƒ ê°œë°œ ì‹œê°„

| ìˆœìœ„ | ê¸°ëŠ¥ | ì¤‘ìš”ë„ | ë‚œì´ë„ | ì˜ˆìƒ ì‹œê°„ | ë¹„ì¦ˆë‹ˆìŠ¤ ì„íŒ©íŠ¸ |
|------|------|--------|--------|-----------|-----------------|
| 1 | ì£¼ë¬¸/ê²°ì œ ì‹œìŠ¤í…œ | â­â­â­â­â­ | ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ | 2-3ì£¼ | ë§¤ì¶œ ì§ì ‘ ì—°ê²° |
| 2 | ë¦¬ë·° ì‹œìŠ¤í…œ | â­â­â­â­â­ | ğŸ”¥ğŸ”¥ğŸ”¥ | 1-2ì£¼ | êµ¬ë§¤ ì „í™˜ìœ¨ 30% â†‘ |
| 3 | ê³ ê¸‰ í•„í„°ë§ | â­â­â­â­ | ğŸ”¥ğŸ”¥ | 3-5ì¼ | UX ê°œì„  |
| 4 | PWA | â­â­â­â­ | ğŸ”¥ğŸ”¥ğŸ”¥ | 1ì£¼ | ëª¨ë°”ì¼ ì‚¬ìš©ì„± â†‘ |
| 5 | ì¿ í°/í¬ì¸íŠ¸ | â­â­â­â­ | ğŸ”¥ğŸ”¥ğŸ”¥ | 1-2ì£¼ | ì¬êµ¬ë§¤ìœ¨ 25% â†‘ |
| 6 | ì‹¤ì‹œê°„ ì•Œë¦¼ | â­â­â­ | ğŸ”¥ğŸ”¥ | 1ì£¼ | ì‚¬ìš©ì ì¸ê²Œì´ì§€ë¨¼íŠ¸ â†‘ |
| 7 | ìƒí’ˆ ë¹„êµ | â­â­â­ | ğŸ”¥ğŸ”¥ | 3-5ì¼ | êµ¬ë§¤ ê²°ì • ë„ì›€ |
| 8 | ê²€ìƒ‰ ê³ ë„í™” | â­â­â­ | ğŸ”¥ğŸ”¥ğŸ”¥ | 1-2ì£¼ | ìƒí’ˆ ë°œê²¬ì„± â†‘ |

---

## 2. ì£¼ë¬¸ ë° ê²°ì œ ì‹œìŠ¤í…œ

### ì£¼ë¬¸ í”„ë¡œì„¸ìŠ¤ í”Œë¡œìš°

```
ì¥ë°”êµ¬ë‹ˆ â†’ ì£¼ë¬¸ì„œ ì‘ì„± â†’ ë°°ì†¡ì§€ ì…ë ¥ â†’ ê²°ì œ ìˆ˜ë‹¨ ì„ íƒ â†’ ê²°ì œ ì§„í–‰ â†’ ì£¼ë¬¸ ì™„ë£Œ
```

### ì£¼ë¬¸ íƒ€ì… ì •ì˜

```typescript
// src/types/order.ts
import type { Product, Size, Color } from './product'

export interface ShippingAddress {
  recipient: string         // ìˆ˜ë ¹ì¸ ì´ë¦„
  phone: string            // ì—°ë½ì²˜
  zipCode: string          // ìš°í¸ë²ˆí˜¸
  address: string          // ê¸°ë³¸ ì£¼ì†Œ
  detailAddress: string    // ìƒì„¸ ì£¼ì†Œ
  memo?: string            // ë°°ì†¡ ë©”ëª¨ (ì„ íƒì‚¬í•­)
}

export interface OrderItem {
  productId: string        // ìƒí’ˆ ID
  product: Product         // ìƒí’ˆ ì •ë³´
  selectedSize: Size       // ì„ íƒí•œ ì‚¬ì´ì¦ˆ
  selectedColor: Color     // ì„ íƒí•œ ìƒ‰ìƒ
  quantity: number         // ìˆ˜ëŸ‰
  price: number           // ë‹¨ê°€
}

export interface Order {
  id: string                      // ì£¼ë¬¸ ê³ ìœ  ID
  orderNumber: string            // ì£¼ë¬¸ ë²ˆí˜¸
  userId: string                 // ì‚¬ìš©ì ID
  items: OrderItem[]             // ì£¼ë¬¸ ìƒí’ˆ ëª©ë¡
  shippingAddress: ShippingAddress  // ë°°ì†¡ì§€ ì •ë³´
  paymentMethod: PaymentMethod      // ê²°ì œ ë°©ë²•
  paymentStatus: PaymentStatus      // ê²°ì œ ìƒíƒœ
  orderStatus: OrderStatus          // ì£¼ë¬¸ ìƒíƒœ
  totalAmount: number              // ì´ ê¸ˆì•¡
  shippingFee: number             // ë°°ì†¡ë¹„
  discountAmount: number          // í• ì¸ ê¸ˆì•¡
  pointsUsed: number              // ì‚¬ìš© í¬ì¸íŠ¸
  couponUsed?: string             // ì‚¬ìš© ì¿ í° ì½”ë“œ (ì„ íƒì‚¬í•­)
  createdAt: string               // ìƒì„±ì¼ì‹œ
  updatedAt: string               // ìˆ˜ì •ì¼ì‹œ
}

export enum OrderStatus {
  PENDING = 'PENDING',
  CONFIRMED = 'CONFIRMED',
  PREPARING = 'PREPARING',
  SHIPPED = 'SHIPPED',
  DELIVERED = 'DELIVERED',
  CANCELLED = 'CANCELLED',
  REFUNDED = 'REFUNDED'
}

export enum PaymentMethod {
  CARD = 'CARD',
  BANK_TRANSFER = 'BANK_TRANSFER',
  KAKAO_PAY = 'KAKAO_PAY',
  NAVER_PAY = 'NAVER_PAY',
  TOSS = 'TOSS'
}

export enum PaymentStatus {
  PENDING = 'PENDING',
  COMPLETED = 'COMPLETED',
  FAILED = 'FAILED',
  CANCELLED = 'CANCELLED',
  REFUNDED = 'REFUNDED'
}
```

### ì£¼ë¬¸ Store êµ¬í˜„

## ğŸ›’ useOrderStore.ts ì™„ì „ í•´ì„¤ - ì´ˆê¸‰ ê°œë°œììš© ê°€ì´ë“œ

### 1. ğŸ“‹ ê¸°ë³¸ êµ¬ì¡° ì´í•´í•˜ê¸°

```typescript
// src/store/useOrderStore.ts
import { create } from 'zustand'
import { persist } from 'zustand/middleware'

// ğŸ¯ useOrderStoreëŠ” ì£¼ë¬¸ê³¼ ê´€ë ¨ëœ ëª¨ë“  ìƒíƒœì™€ ë™ì‘ì„ ê´€ë¦¬í•˜ëŠ” ì €ì¥ì†Œì…ë‹ˆë‹¤
// Zustandì˜ create í•¨ìˆ˜ë¡œ ë§Œë“¤ì–´ì§€ë©°, persist ë¯¸ë“¤ì›¨ì–´ë¡œ ë°ì´í„°ë¥¼ localStorageì— ì €ì¥í•©ë‹ˆë‹¤
```

**ğŸ’¡ ì™œ Zustandë¥¼ ì‚¬ìš©í•˜ë‚˜ìš”?**
- Reduxë³´ë‹¤ ê°„ë‹¨í•˜ê³  ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì½”ë“œê°€ ì ìŒ
- TypeScript ì§€ì›ì´ ìš°ìˆ˜í•¨
- persist ë¯¸ë“¤ì›¨ì–´ë¡œ ìƒˆë¡œê³ ì¹¨í•´ë„ ë°ì´í„° ìœ ì§€ ê°€ëŠ¥

### 2. ğŸ—ï¸ íƒ€ì… ì •ì˜ (Types)

```typescript
// ğŸ·ï¸ ë°°ì†¡ ì£¼ì†Œ ì •ë³´ë¥¼ ë‹´ëŠ” ì¸í„°í˜ì´ìŠ¤
interface ShippingAddress {
  recipient: string      // ë°›ëŠ” ì‚¬ëŒ ì´ë¦„
  phone: string         // ì „í™”ë²ˆí˜¸
  zipCode: string       // ìš°í¸ë²ˆí˜¸
  address: string       // ê¸°ë³¸ ì£¼ì†Œ
  detailAddress: string // ìƒì„¸ ì£¼ì†Œ
  memo?: string         // ë°°ì†¡ ë©”ëª¨ (ì„ íƒì‚¬í•­)
}

// ğŸ›ï¸ ì£¼ë¬¸í•  ìƒí’ˆ ì •ë³´ë¥¼ ë‹´ëŠ” ì¸í„°í˜ì´ìŠ¤
interface OrderItem {
  productId: string     // ìƒí’ˆ ê³ ìœ  ID
  product: Product      // ìƒí’ˆ ì „ì²´ ì •ë³´
  selectedSize: Size    // ì„ íƒí•œ ì‚¬ì´ì¦ˆ
  selectedColor: Color  // ì„ íƒí•œ ìƒ‰ìƒ
  quantity: number      // ì£¼ë¬¸ ìˆ˜ëŸ‰
  price: number         // ìƒí’ˆ ê°€ê²©
}

// ğŸ“„ ì™„ì„±ëœ ì£¼ë¬¸ ì •ë³´ë¥¼ ë‹´ëŠ” ì¸í„°í˜ì´ìŠ¤
interface Order {
  id: string                    // ì£¼ë¬¸ ê³ ìœ  ID
  orderNumber: string          // ì£¼ë¬¸ë²ˆí˜¸ (ì˜ˆ: ORD-20241215-001)
  userId: string               // ì£¼ë¬¸í•œ ì‚¬ìš©ì ID
  items: OrderItem[]           // ì£¼ë¬¸ ìƒí’ˆ ëª©ë¡
  shippingAddress: ShippingAddress  // ë°°ì†¡ì§€ ì •ë³´
  paymentMethod: PaymentMethod // ê²°ì œ ë°©ë²•
  paymentStatus: PaymentStatus // ê²°ì œ ìƒíƒœ
  orderStatus: OrderStatus     // ì£¼ë¬¸ ìƒíƒœ
  totalAmount: number          // ì´ ì£¼ë¬¸ ê¸ˆì•¡
  shippingFee: number         // ë°°ì†¡ë¹„
  discountAmount: number      // í• ì¸ ê¸ˆì•¡
  pointsUsed: number          // ì‚¬ìš©í•œ í¬ì¸íŠ¸
  couponUsed?: string         // ì‚¬ìš©í•œ ì¿ í° (ì„ íƒì‚¬í•­)
  createdAt: string           // ì£¼ë¬¸ ìƒì„± ì‹œê°„
  updatedAt: string           // ì£¼ë¬¸ ìˆ˜ì • ì‹œê°„
}
```

### 3. ğŸ”¢ Enum ìƒìˆ˜ ì •ì˜

```typescript
// ğŸ“¦ ì£¼ë¬¸ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì—´ê±°í˜•
export enum OrderStatus {
  PENDING = 'PENDING',       // ì£¼ë¬¸ ëŒ€ê¸°ì¤‘
  CONFIRMED = 'CONFIRMED',   // ì£¼ë¬¸ í™•ì¸ë¨
  PREPARING = 'PREPARING',   // ìƒí’ˆ ì¤€ë¹„ì¤‘
  SHIPPED = 'SHIPPED',       // ë°°ì†¡ì¤‘
  DELIVERED = 'DELIVERED',   // ë°°ì†¡ ì™„ë£Œ
  CANCELLED = 'CANCELLED',   // ì£¼ë¬¸ ì·¨ì†Œ
  REFUNDED = 'REFUNDED'      // í™˜ë¶ˆ ì™„ë£Œ
}

// ğŸ’³ ê²°ì œ ë°©ë²•ì„ ë‚˜íƒ€ë‚´ëŠ” ì—´ê±°í˜•
export enum PaymentMethod {
  CARD = 'CARD',                   // ì‹ ìš©ì¹´ë“œ
  BANK_TRANSFER = 'BANK_TRANSFER', // ê³„ì¢Œì´ì²´
  KAKAO_PAY = 'KAKAO_PAY',        // ì¹´ì¹´ì˜¤í˜ì´
  NAVER_PAY = 'NAVER_PAY',        // ë„¤ì´ë²„í˜ì´
  TOSS = 'TOSS'                   // í† ìŠ¤í˜ì´
}

// ğŸ’° ê²°ì œ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì—´ê±°í˜•
export enum PaymentStatus {
  PENDING = 'PENDING',     // ê²°ì œ ëŒ€ê¸°ì¤‘
  COMPLETED = 'COMPLETED', // ê²°ì œ ì™„ë£Œ
  FAILED = 'FAILED',       // ê²°ì œ ì‹¤íŒ¨
  CANCELLED = 'CANCELLED', // ê²°ì œ ì·¨ì†Œ
  REFUNDED = 'REFUNDED'    // í™˜ë¶ˆ ì™„ë£Œ
}
```

**ğŸ’¡ Enumì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ :**
- ì˜¤íƒ€ ë°©ì§€ (ìë™ì™„ì„± ì§€ì›)
- ì½”ë“œ ê°€ë…ì„± í–¥ìƒ
- ìœ ì§€ë³´ìˆ˜ ìš©ì´ì„±

### 4. ğŸª Store ì¸í„°í˜ì´ìŠ¤ ì •ì˜

```typescript
interface OrderState {
  // ğŸ“Š ìƒíƒœ(State) - ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ê³µê°„
  currentOrder: Partial<Order> | null  // í˜„ì¬ ì§„í–‰ì¤‘ì¸ ì£¼ë¬¸ (ì¼ë¶€ ì •ë³´ë§Œ ìˆì„ ìˆ˜ ìˆìŒ)
  orders: Order[]                      // ì™„ë£Œëœ ì£¼ë¬¸ ëª©ë¡
  shippingAddress: ShippingAddress | null  // ê¸°ë³¸ ë°°ì†¡ì§€ ì •ë³´
  
  // ğŸ¬ ì•¡ì…˜(Actions) - ìƒíƒœë¥¼ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜ë“¤
  createOrder: (items: CartItem[]) => void              // ì¥ë°”êµ¬ë‹ˆì—ì„œ ì£¼ë¬¸ ìƒì„±
  setShippingAddress: (address: ShippingAddress) => void // ë°°ì†¡ì§€ ì„¤ì •
  setPaymentMethod: (method: PaymentMethod) => void      // ê²°ì œ ë°©ë²• ì„¤ì •
  submitOrder: () => Promise<Order>                      // ì£¼ë¬¸ ì œì¶œ (ì„œë²„ë¡œ ì „ì†¡)
  getOrders: () => Promise<Order[]>                      // ì£¼ë¬¸ ëª©ë¡ ì¡°íšŒ
  getOrder: (id: string) => Promise<Order>               // íŠ¹ì • ì£¼ë¬¸ ì¡°íšŒ
  cancelOrder: (id: string) => Promise<void>             // ì£¼ë¬¸ ì·¨ì†Œ
}
```

### 5. ğŸ—ï¸ Store êµ¬í˜„ - í•µì‹¬ ë¡œì§

```typescript
// í•„ìš”í•œ import ì¶”ê°€
import { create } from 'zustand'
import { persist } from 'zustand/middleware'
import { useCartStore } from './useCartStore'
import * as orderService from '@/services/orderService'

export const useOrderStore = create<OrderState>()(
  // ğŸ”„ persist ë¯¸ë“¤ì›¨ì–´ë¡œ ë°ì´í„° ì˜ì†ì„± ë³´ì¥
  persist(
    (set, get) => ({
      // ğŸ ì´ˆê¸° ìƒíƒœê°’ë“¤
      currentOrder: null,     // ì§„í–‰ì¤‘ì¸ ì£¼ë¬¸ ì—†ìŒ
      orders: [],            // ë¹ˆ ì£¼ë¬¸ ëª©ë¡
      shippingAddress: null, // ì €ì¥ëœ ë°°ì†¡ì§€ ì—†ìŒ
      
      // ğŸ›’ createOrder: ì¥ë°”êµ¬ë‹ˆ ì•„ì´í…œë“¤ì„ ì£¼ë¬¸ìœ¼ë¡œ ë³€í™˜
      createOrder: (items: CartItem[]): void => {
        // 1ï¸âƒ£ ì¥ë°”êµ¬ë‹ˆ ì•„ì´í…œì„ ì£¼ë¬¸ ì•„ì´í…œ í˜•íƒœë¡œ ë³€í™˜
        const orderItems: OrderItem[] = items.map((item: CartItem) => ({
          productId: item.productId,
          product: item.product,
          selectedSize: item.selectedSize,
          selectedColor: item.selectedColor,
          quantity: item.quantity,
          price: item.product.price  // í˜„ì¬ ìƒí’ˆ ê°€ê²© ì €ì¥
        }))
        
        // 2ï¸âƒ£ ì´ ì£¼ë¬¸ ê¸ˆì•¡ ê³„ì‚° (ìƒí’ˆê°€ê²© Ã— ìˆ˜ëŸ‰ì˜ í•©)
        const totalAmount: number = orderItems.reduce(
          (sum: number, item: OrderItem) => sum + (item.price * item.quantity), 
          0
        )
        
        // 3ï¸âƒ£ ë°°ì†¡ë¹„ ê³„ì‚° (5ë§Œì› ì´ìƒ ë¬´ë£Œë°°ì†¡)
        const shippingFee: number = totalAmount >= 50000 ? 0 : 3000
        
        // 4ï¸âƒ£ í˜„ì¬ ì£¼ë¬¸ ì •ë³´ ì €ì¥
        set({
          currentOrder: {
            items: orderItems,
            totalAmount,
            shippingFee,
            discountAmount: 0,    // ì´ˆê¸°ê°’: í• ì¸ ì—†ìŒ
            pointsUsed: 0         // ì´ˆê¸°ê°’: í¬ì¸íŠ¸ ì‚¬ìš© ì—†ìŒ
          } as Partial<Order>
        })
      },
      
      // ğŸ  setShippingAddress: ë°°ì†¡ì§€ ì •ë³´ ì„¤ì •
      setShippingAddress: (address: ShippingAddress): void => {
        set((state: OrderState) => ({
          shippingAddress: address,  // ê¸°ë³¸ ë°°ì†¡ì§€ë¡œ ì €ì¥
          currentOrder: state.currentOrder ? {
            ...state.currentOrder,    // ê¸°ì¡´ ì£¼ë¬¸ ì •ë³´ ìœ ì§€
            shippingAddress: address  // ë°°ì†¡ì§€ë§Œ ì—…ë°ì´íŠ¸
          } : null
        }))
      },
      
      // ğŸ’³ setPaymentMethod: ê²°ì œ ë°©ë²• ì„¤ì •
      setPaymentMethod: (method: PaymentMethod): void => {
        set((state: OrderState) => ({
          currentOrder: state.currentOrder ? {
            ...state.currentOrder,     // ê¸°ì¡´ ì£¼ë¬¸ ì •ë³´ ìœ ì§€
            paymentMethod: method      // ê²°ì œ ë°©ë²•ë§Œ ì—…ë°ì´íŠ¸
          } : null
        }))
      },
```

### 6. ğŸš€ ë¹„ë™ê¸° ì‘ì—… ì²˜ë¦¬ (Async Actions)

```typescript
      // ğŸ“¤ submitOrder: ì„œë²„ë¡œ ì£¼ë¬¸ ì „ì†¡ ë° ì²˜ë¦¬
      submitOrder: async (): Promise<Order> => {
        const { currentOrder } = get()  // í˜„ì¬ ìƒíƒœì—ì„œ ì£¼ë¬¸ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
        
        // âŒ ì£¼ë¬¸ ì •ë³´ê°€ ì—†ìœ¼ë©´ ì—ëŸ¬ ë°œìƒ
        if (!currentOrder) throw new Error('No current order')
        
        try {
          // ğŸŒ ì„œë²„ API í˜¸ì¶œí•˜ì—¬ ì£¼ë¬¸ ìƒì„±
          const response: Order = await orderService.createOrder(currentOrder)
          
          // âœ… ì£¼ë¬¸ ì„±ê³µ í›„ ìƒíƒœ ì—…ë°ì´íŠ¸
          set({
            currentOrder: null,                    // ì§„í–‰ì¤‘ì¸ ì£¼ë¬¸ ì´ˆê¸°í™”
            orders: [...get().orders, response]   // ì™„ë£Œëœ ì£¼ë¬¸ ëª©ë¡ì— ì¶”ê°€
          })
          
          // ğŸ›’ ì£¼ë¬¸ ì™„ë£Œ í›„ ì¥ë°”êµ¬ë‹ˆ ë¹„ìš°ê¸°
          useCartStore.getState().clearCart()
          
          return response  // ìƒì„±ëœ ì£¼ë¬¸ ì •ë³´ ë°˜í™˜
          
        } catch (error) {
          // ğŸš¨ ì—ëŸ¬ ë°œìƒ ì‹œ ì ì ˆí•œ ì²˜ë¦¬
          console.error('ì£¼ë¬¸ ì œì¶œ ì‹¤íŒ¨:', error)
          throw error  // ì—ëŸ¬ë¥¼ í˜¸ì¶œí•œ ê³³ìœ¼ë¡œ ì „ë‹¬
        }
      },
      
      // ğŸ“‹ getOrders: ì‚¬ìš©ìì˜ ëª¨ë“  ì£¼ë¬¸ ëª©ë¡ ì¡°íšŒ
      getOrders: async (): Promise<Order[]> => {
        try {
          const orders: Order[] = await orderService.getOrders()  // ì„œë²„ì—ì„œ ì£¼ë¬¸ ëª©ë¡ ê°€ì ¸ì˜¤ê¸°
          set({ orders })  // ìƒíƒœì— ì €ì¥
          return orders    // ì£¼ë¬¸ ëª©ë¡ ë°˜í™˜
        } catch (error) {
          console.error('ì£¼ë¬¸ ëª©ë¡ ì¡°íšŒ ì‹¤íŒ¨:', error)
          throw error
        }
      },
      
      // ğŸ” getOrder: íŠ¹ì • ì£¼ë¬¸ì˜ ìƒì„¸ ì •ë³´ ì¡°íšŒ
      getOrder: async (id: string): Promise<Order> => {
        try {
          return await orderService.getOrder(id)  // ì„œë²„ì—ì„œ íŠ¹ì • ì£¼ë¬¸ ì¡°íšŒ
        } catch (error) {
          console.error('ì£¼ë¬¸ ì¡°íšŒ ì‹¤íŒ¨:', error)
          throw error
        }
      },
      
      // âŒ cancelOrder: ì£¼ë¬¸ ì·¨ì†Œ ì²˜ë¦¬
      cancelOrder: async (id: string): Promise<void> => {
        try {
          await orderService.cancelOrder(id)  // ì„œë²„ì— ì·¨ì†Œ ìš”ì²­
          
          // ë¡œì»¬ ìƒíƒœì—ì„œë„ ì£¼ë¬¸ ìƒíƒœë¥¼ ì·¨ì†Œë¡œ ë³€ê²½
          const orders: Order[] = get().orders.map((order: Order) =>
            order.id === id 
              ? { ...order, orderStatus: OrderStatus.CANCELLED }  // í•´ë‹¹ ì£¼ë¬¸ë§Œ ì·¨ì†Œ ìƒíƒœë¡œ
              : order  // ë‹¤ë¥¸ ì£¼ë¬¸ë“¤ì€ ê·¸ëŒ€ë¡œ ìœ ì§€
          )
          set({ orders })  // ì—…ë°ì´íŠ¸ëœ ì£¼ë¬¸ ëª©ë¡ ì €ì¥
          
        } catch (error) {
          console.error('ì£¼ë¬¸ ì·¨ì†Œ ì‹¤íŒ¨:', error)
          throw error
        }
      }
    }),
```

### 7. ğŸ’¾ ë°ì´í„° ì˜ì†ì„± (Persistence) ì„¤ì •

```typescript
    {
      name: 'order-storage',  // localStorageì— ì €ì¥ë  í‚¤ ì´ë¦„
      partialize: (state: OrderState) => ({ 
        shippingAddress: state.shippingAddress  // ë°°ì†¡ì§€ ì •ë³´ë§Œ ì €ì¥ (ë³´ì•ˆìƒ ì£¼ë¬¸ ì •ë³´ëŠ” ì œì™¸)
      })
    }
  )
)
```

**ğŸ’¡ ì™œ ë°°ì†¡ì§€ë§Œ ì €ì¥í•˜ë‚˜ìš”?**
- ë³´ì•ˆ: ì£¼ë¬¸ ì •ë³´ëŠ” ë¯¼ê°í•œ ë°ì´í„°ì´ë¯€ë¡œ ë¸Œë¼ìš°ì €ì— ì €ì¥í•˜ì§€ ì•ŠìŒ
- í¸ì˜ì„±: ìì£¼ ì‚¬ìš©í•˜ëŠ” ë°°ì†¡ì§€ëŠ” ì €ì¥í•´ì„œ ì¬ì‚¬ìš©
- ì„±ëŠ¥: í•„ìš”í•œ ë°ì´í„°ë§Œ ì €ì¥í•˜ì—¬ ìš©ëŸ‰ ì ˆì•½

### 8. ğŸ¯ ì‹¤ì œ ì‚¬ìš© ì˜ˆì œ

```typescript
// í•„ìš”í•œ import
import { useEffect } from 'react'
import { useRouter } from 'next/navigation'
import { useOrderStore } from '@/store/useOrderStore'
import { useCartStore } from '@/store/useCartStore'
import type { Order } from '@/types/order'

// ì£¼ë¬¸ì„œ í˜ì´ì§€ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•
function CheckoutPage(): JSX.Element {
  const router = useRouter()
  
  const { 
    currentOrder,           // í˜„ì¬ ì£¼ë¬¸ ì •ë³´
    createOrder,           // ì£¼ë¬¸ ìƒì„± í•¨ìˆ˜
    setShippingAddress,    // ë°°ì†¡ì§€ ì„¤ì • í•¨ìˆ˜
    setPaymentMethod,      // ê²°ì œ ë°©ë²• ì„¤ì • í•¨ìˆ˜
    submitOrder            // ì£¼ë¬¸ ì œì¶œ í•¨ìˆ˜
  } = useOrderStore()
  
  const { items } = useCartStore()  // ì¥ë°”êµ¬ë‹ˆ ì•„ì´í…œë“¤
  
  // ğŸ›’ ì¥ë°”êµ¬ë‹ˆì—ì„œ ì£¼ë¬¸ ìƒì„±
  useEffect(() => {
    if (items.length > 0) {
      createOrder(items)
    }
  }, [items, createOrder])
  
  // ğŸ“‹ ì£¼ë¬¸ ì œì¶œ í•¸ë“¤ëŸ¬
  const handleSubmitOrder = async (): Promise<void> => {
    try {
      const order: Order = await submitOrder()
      console.log('ì£¼ë¬¸ ì™„ë£Œ:', order)
      // ì£¼ë¬¸ ì™„ë£Œ í˜ì´ì§€ë¡œ ì´ë™
      router.push(`/order-complete/${order.id}`)
    } catch (error) {
      console.error('ì£¼ë¬¸ ì‹¤íŒ¨:', error)
      alert('ì£¼ë¬¸ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.')
    }
  }
  
  return (
    <div>
      {/* ì£¼ë¬¸ ì •ë³´ í‘œì‹œ */}
      {currentOrder && (
        <div>
          <h2>ì£¼ë¬¸ ì •ë³´</h2>
          <p>ì´ ê¸ˆì•¡: {currentOrder.totalAmount?.toLocaleString()}ì›</p>
          <p>ë°°ì†¡ë¹„: {currentOrder.shippingFee?.toLocaleString()}ì›</p>
        </div>
      )}
      
      {/* ì£¼ë¬¸ ì œì¶œ ë²„íŠ¼ */}
      <button onClick={handleSubmitOrder}>
        ì£¼ë¬¸í•˜ê¸°
      </button>
    </div>
  )
}
```

### 9. ğŸ”„ ì „ì²´ ì£¼ë¬¸ í”Œë¡œìš°

```
1. ğŸ›’ ì¥ë°”êµ¬ë‹ˆì—ì„œ "ì£¼ë¬¸í•˜ê¸°" í´ë¦­
   â†“
2. ğŸ“‹ createOrder() í˜¸ì¶œ â†’ currentOrder ìƒì„±
   â†“
3. ğŸ  ë°°ì†¡ì§€ ì…ë ¥ â†’ setShippingAddress() í˜¸ì¶œ
   â†“
4. ğŸ’³ ê²°ì œ ë°©ë²• ì„ íƒ â†’ setPaymentMethod() í˜¸ì¶œ
   â†“
5. ğŸš€ "ê²°ì œí•˜ê¸°" í´ë¦­ â†’ submitOrder() í˜¸ì¶œ
   â†“
6. âœ… ì„œë²„ ì²˜ë¦¬ ì™„ë£Œ â†’ orders ë°°ì—´ì— ì¶”ê°€
   â†“
7. ğŸ›’ ì¥ë°”êµ¬ë‹ˆ ìë™ ë¹„ìš°ê¸°
   â†“
8. ğŸ“„ ì£¼ë¬¸ ì™„ë£Œ í˜ì´ì§€ë¡œ ì´ë™
```

**ğŸ’¡ í•µì‹¬ í¬ì¸íŠ¸:**
- **ìƒíƒœ ê´€ë¦¬**: Zustandë¡œ ì£¼ë¬¸ ê´€ë ¨ ëª¨ë“  ìƒíƒœë¥¼ ì¤‘ì•™ ì§‘ì¤‘ ê´€ë¦¬
- **íƒ€ì… ì•ˆì „ì„±**: TypeScriptë¡œ ëª¨ë“  ë°ì´í„° íƒ€ì…ì„ ëª…í™•íˆ ì •ì˜
- **ì—ëŸ¬ ì²˜ë¦¬**: try-catchë¡œ API í˜¸ì¶œ ì‹œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì˜¤ë¥˜ ì²˜ë¦¬
- **ë°ì´í„° ì˜ì†ì„±**: ìƒˆë¡œê³ ì¹¨í•´ë„ ë°°ì†¡ì§€ ì •ë³´ëŠ” ìœ ì§€
- **ë³´ì•ˆ**: ë¯¼ê°í•œ ì£¼ë¬¸ ì •ë³´ëŠ” localStorageì— ì €ì¥í•˜ì§€ ì•ŠìŒ

### 10. ğŸ“ ì™„ì „í•œ TypeScript êµ¬í˜„ ì˜ˆì œ

```typescript
// src/store/useOrderStore.ts - ì „ì²´ ì½”ë“œ
import { create } from 'zustand'
import { persist } from 'zustand/middleware'
import { useCartStore } from './useCartStore'
import * as orderService from '@/services/orderService'
import type { 
  Order, 
  OrderItem, 
  ShippingAddress, 
  OrderStatus, 
  PaymentMethod, 
  PaymentStatus,
  CartItem 
} from '@/types'

interface OrderState {
  // State
  currentOrder: Partial<Order> | null
  orders: Order[]
  shippingAddress: ShippingAddress | null
  
  // Actions
  createOrder: (items: CartItem[]) => void
  setShippingAddress: (address: ShippingAddress) => void
  setPaymentMethod: (method: PaymentMethod) => void
  submitOrder: () => Promise<Order>
  getOrders: () => Promise<Order[]>
  getOrder: (id: string) => Promise<Order>
  cancelOrder: (id: string) => Promise<void>
}

export const useOrderStore = create<OrderState>()(
  persist(
    (set, get) => ({
      // Initial state
      currentOrder: null,
      orders: [],
      shippingAddress: null,
      
      // Create order from cart items
      createOrder: (items: CartItem[]): void => {
        const orderItems: OrderItem[] = items.map((item: CartItem) => ({
          productId: item.productId,
          product: item.product,
          selectedSize: item.selectedSize,
          selectedColor: item.selectedColor,
          quantity: item.quantity,
          price: item.product.price
        }))
        
        const totalAmount: number = orderItems.reduce(
          (sum: number, item: OrderItem) => sum + (item.price * item.quantity), 
          0
        )
        
        const shippingFee: number = totalAmount >= 50000 ? 0 : 3000
        
        set({
          currentOrder: {
            items: orderItems,
            totalAmount,
            shippingFee,
            discountAmount: 0,
            pointsUsed: 0
          } as Partial<Order>
        })
      },
      
      // Set shipping address
      setShippingAddress: (address: ShippingAddress): void => {
        set((state: OrderState) => ({
          shippingAddress: address,
          currentOrder: state.currentOrder ? {
            ...state.currentOrder,
            shippingAddress: address
          } : null
        }))
      },
      
      // Set payment method
      setPaymentMethod: (method: PaymentMethod): void => {
        set((state: OrderState) => ({
          currentOrder: state.currentOrder ? {
            ...state.currentOrder,
            paymentMethod: method
          } : null
        }))
      },
      
      // Submit order to server
      submitOrder: async (): Promise<Order> => {
        const { currentOrder } = get()
        
        if (!currentOrder) {
          throw new Error('No current order')
        }
        
        try {
          const response: Order = await orderService.createOrder(currentOrder)
          
          set({
            currentOrder: null,
            orders: [...get().orders, response]
          })
          
          useCartStore.getState().clearCart()
          
          return response
        } catch (error) {
          console.error('ì£¼ë¬¸ ì œì¶œ ì‹¤íŒ¨:', error)
          throw error
        }
      },
      
      // Get all orders
      getOrders: async (): Promise<Order[]> => {
        try {
          const orders: Order[] = await orderService.getOrders()
          set({ orders })
          return orders
        } catch (error) {
          console.error('ì£¼ë¬¸ ëª©ë¡ ì¡°íšŒ ì‹¤íŒ¨:', error)
          throw error
        }
      },
      
      // Get single order
      getOrder: async (id: string): Promise<Order> => {
        try {
          return await orderService.getOrder(id)
        } catch (error) {
          console.error('ì£¼ë¬¸ ì¡°íšŒ ì‹¤íŒ¨:', error)
          throw error
        }
      },
      
      // Cancel order
      cancelOrder: async (id: string): Promise<void> => {
        try {
          await orderService.cancelOrder(id)
          
          const orders: Order[] = get().orders.map((order: Order) =>
            order.id === id 
              ? { ...order, orderStatus: OrderStatus.CANCELLED }
              : order
          )
          set({ orders })
        } catch (error) {
          console.error('ì£¼ë¬¸ ì·¨ì†Œ ì‹¤íŒ¨:', error)
          throw error
        }
      }
    }),
    {
      name: 'order-storage',
      partialize: (state: OrderState) => ({ 
        shippingAddress: state.shippingAddress
      })
    }
  )
)
```

### ì£¼ë¬¸ì„œ í˜ì´ì§€ êµ¬í˜„

```typescript
// src/app/checkout/page.tsx
'use client'

import { useCartStore, useOrderStore, useUserStore } from '@/store'
import { useRouter } from 'next/navigation'
import { useState, useEffect } from 'react'
import { Button } from '@/components/ui'
import { PaymentMethod } from '@/types/order'
import type { ShippingAddress, Order } from '@/types/order'

interface FormData extends ShippingAddress {
  paymentMethod: PaymentMethod
}

export default function CheckoutPage(): JSX.Element {
  const router = useRouter()
  const { items, getTotalPrice } = useCartStore()
  const { createOrder, setShippingAddress, setPaymentMethod, submitOrder, shippingAddress } = useOrderStore()
  const { user } = useUserStore()
  
  const [loading, setLoading] = useState<boolean>(false)
  const [formData, setFormData] = useState<FormData>({
    recipient: user?.name || '',
    phone: user?.phone || '',
    zipCode: '',
    address: '',
    detailAddress: '',
    memo: '',
    paymentMethod: PaymentMethod.CARD
  })
  
  // ì €ì¥ëœ ë°°ì†¡ì§€ ì •ë³´ ë¶ˆëŸ¬ì˜¤ê¸°
  useEffect(() => {
    if (shippingAddress) {
      setFormData(prev => ({
        ...prev,
        ...shippingAddress
      }))
    }
  }, [shippingAddress])
  
  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>): Promise<void> => {
    e.preventDefault()
    setLoading(true)
    
    try {
      // ì£¼ë¬¸ ìƒì„±
      createOrder(items)
      
      // ë°°ì†¡ì§€ ì„¤ì •
      const addressData: ShippingAddress = {
        recipient: formData.recipient,
        phone: formData.phone,
        zipCode: formData.zipCode,
        address: formData.address,
        detailAddress: formData.detailAddress,
        memo: formData.memo
      }
      setShippingAddress(addressData)
      
      // ê²°ì œ ìˆ˜ë‹¨ ì„¤ì •
      setPaymentMethod(formData.paymentMethod)
      
      // ì£¼ë¬¸ ì œì¶œ
      const order: Order = await submitOrder()
      
      // ê²°ì œ í˜ì´ì§€ë¡œ ì´ë™
      router.push(`/payment/${order.id}`)
    } catch (error) {
      console.error('ì£¼ë¬¸ ì‹¤íŒ¨:', error)
      alert('ì£¼ë¬¸ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.')
    } finally {
      setLoading(false)
    }
  }
  
  const handleInputChange = (
    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>
  ): void => {
    const { name, value } = e.target
    setFormData(prev => ({
      ...prev,
      [name]: value
    }))
  }
  
  return (
    <div className="container mx-auto px-4 py-8">
      <h1 className="text-2xl font-bold mb-8">ì£¼ë¬¸/ê²°ì œ</h1>
      
      <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
        {/* ì£¼ë¬¸ ì •ë³´ ì…ë ¥ */}
        <div className="lg:col-span-2">
          <form onSubmit={handleSubmit} className="space-y-6">
            {/* ë°°ì†¡ì§€ ì •ë³´ */}
            <section className="bg-white p-6 rounded-lg shadow">
              <h2 className="text-lg font-semibold mb-4">ë°°ì†¡ì§€ ì •ë³´</h2>
              
              <div className="space-y-4">
                <div>
                  <label className="block text-sm font-medium mb-2">
                    ë°›ëŠ” ì‚¬ëŒ
                  </label>
                  <input
                    type="text"
                    value={formData.recipient}
                    onChange={(e) => setFormData({...formData, recipient: e.target.value})}
                    className="w-full px-4 py-2 border rounded-lg"
                    required
                  />
                </div>
                
                <div>
                  <label className="block text-sm font-medium mb-2">
                    ì—°ë½ì²˜
                  </label>
                  <input
                    type="tel"
                    value={formData.phone}
                    onChange={(e) => setFormData({...formData, phone: e.target.value})}
                    className="w-full px-4 py-2 border rounded-lg"
                    required
                  />
                </div>
                
                <div>
                  <label className="block text-sm font-medium mb-2">
                    ìš°í¸ë²ˆí˜¸
                  </label>
                  <div className="flex gap-2">
                    <input
                      type="text"
                      value={formData.zipCode}
                      onChange={(e) => setFormData({...formData, zipCode: e.target.value})}
                      className="flex-1 px-4 py-2 border rounded-lg"
                      required
                    />
                    <Button type="button" variant="outline">
                      ìš°í¸ë²ˆí˜¸ ì°¾ê¸°
                    </Button>
                  </div>
                </div>
                
                <div>
                  <label className="block text-sm font-medium mb-2">
                    ì£¼ì†Œ
                  </label>
                  <input
                    type="text"
                    value={formData.address}
                    onChange={(e) => setFormData({...formData, address: e.target.value})}
                    className="w-full px-4 py-2 border rounded-lg mb-2"
                    required
                  />
                  <input
                    type="text"
                    value={formData.detailAddress}
                    onChange={(e) => setFormData({...formData, detailAddress: e.target.value})}
                    className="w-full px-4 py-2 border rounded-lg"
                    placeholder="ìƒì„¸ì£¼ì†Œ"
                  />
                </div>
                
                <div>
                  <label className="block text-sm font-medium mb-2">
                    ë°°ì†¡ ë©”ëª¨
                  </label>
                  <textarea
                    value={formData.memo}
                    onChange={(e) => setFormData({...formData, memo: e.target.value})}
                    className="w-full px-4 py-2 border rounded-lg"
                    rows={3}
                    placeholder="ë°°ì†¡ ì‹œ ìš”ì²­ì‚¬í•­ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"
                  />
                </div>
              </div>
            </section>
            
            {/* ê²°ì œ ìˆ˜ë‹¨ */}
            <section className="bg-white p-6 rounded-lg shadow">
              <h2 className="text-lg font-semibold mb-4">ê²°ì œ ìˆ˜ë‹¨</h2>
              
              <div className="space-y-2">
                {Object.values(PaymentMethod).map((method) => (
                  <label key={method} className="flex items-center">
                    <input
                      type="radio"
                      name="paymentMethod"
                      value={method}
                      checked={formData.paymentMethod === method}
                      onChange={(e) => setFormData({...formData, paymentMethod: e.target.value as PaymentMethod})}
                      className="mr-2"
                    />
                    <span>{getPaymentMethodLabel(method)}</span>
                  </label>
                ))}
              </div>
            </section>
          </form>
        </div>
        
        {/* ì£¼ë¬¸ ìš”ì•½ */}
        <div className="lg:col-span-1">
          <div className="bg-white p-6 rounded-lg shadow sticky top-4">
            <h2 className="text-lg font-semibold mb-4">ì£¼ë¬¸ ìš”ì•½</h2>
            
            <div className="space-y-4 mb-6">
              {items.map((item) => (
                <div key={`${item.productId}-${item.selectedSize.id}-${item.selectedColor.id}`} className="flex justify-between">
                  <div>
                    <p className="font-medium">{item.product.name}</p>
                    <p className="text-sm text-gray-600">
                      {item.selectedSize.name} / {item.selectedColor.name} / {item.quantity}ê°œ
                    </p>
                  </div>
                  <p className="font-medium">
                    {formatPrice(item.product.price * item.quantity)}
                  </p>
                </div>
              ))}
            </div>
            
            <div className="border-t pt-4 space-y-2">
              <div className="flex justify-between">
                <span>ìƒí’ˆ ê¸ˆì•¡</span>
                <span>{formatPrice(getTotalPrice())}</span>
              </div>
              <div className="flex justify-between">
                <span>ë°°ì†¡ë¹„</span>
                <span>{getTotalPrice() >= 50000 ? 'ë¬´ë£Œ' : '3,000ì›'}</span>
              </div>
              <div className="flex justify-between text-lg font-semibold">
                <span>ì´ ê²°ì œ ê¸ˆì•¡</span>
                <span>{formatPrice(getTotalPrice() + (getTotalPrice() >= 50000 ? 0 : 3000))}</span>
              </div>
            </div>
            
            <Button
              type="submit"
              className="w-full mt-6"
              size="lg"
              loading={loading}
              onClick={handleSubmit}
            >
              ê²°ì œí•˜ê¸°
            </Button>
          </div>
        </div>
      </div>
    </div>
  )
}

function getPaymentMethodLabel(method: PaymentMethod): string {
  const labels = {
    [PaymentMethod.CARD]: 'ì‹ ìš©/ì²´í¬ì¹´ë“œ',
    [PaymentMethod.BANK_TRANSFER]: 'ë¬´í†µì¥ì…ê¸ˆ',
    [PaymentMethod.KAKAO_PAY]: 'ì¹´ì¹´ì˜¤í˜ì´',
    [PaymentMethod.NAVER_PAY]: 'ë„¤ì´ë²„í˜ì´',
    [PaymentMethod.TOSS]: 'í† ìŠ¤'
  }
  return labels[method]
}
```

### ê²°ì œ ì—°ë™ (í† ìŠ¤í˜ì´ë¨¼ì¸  ì˜ˆì‹œ)

```typescript
// src/services/paymentService.ts
import { loadTossPayments } from '@tosspayments/payment-sdk'

const clientKey = process.env.NEXT_PUBLIC_TOSS_CLIENT_KEY!

export class PaymentService {
  private tossPayments: any

  async initialize() {
    this.tossPayments = await loadTossPayments(clientKey)
  }

  async requestPayment(order: Order) {
    if (!this.tossPayments) {
      await this.initialize()
    }

    await this.tossPayments.requestPayment('ì¹´ë“œ', {
      amount: order.totalAmount,
      orderId: order.orderNumber,
      orderName: `${order.items[0].product.name} ì™¸ ${order.items.length - 1}ê±´`,
      customerName: order.shippingAddress.recipient,
      successUrl: `${window.location.origin}/payment/success`,
      failUrl: `${window.location.origin}/payment/fail`,
    })
  }

  async confirmPayment(paymentKey: string, orderId: string, amount: number) {
    const response = await fetch('/api/payments/confirm', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        paymentKey,
        orderId,
        amount,
      }),
    })

    if (!response.ok) {
      throw new Error('ê²°ì œ ìŠ¹ì¸ ì‹¤íŒ¨')
    }

    return response.json()
  }
}

export const paymentService = new PaymentService()
```

---

## 3. ë¦¬ë·° ë° í‰ì  ì‹œìŠ¤í…œ

### ë¦¬ë·° íƒ€ì… ì •ì˜

```typescript
// src/types/review.ts
export interface Review {
  id: string
  productId: string
  userId: string
  userName: string
  rating: number // 1-5
  title: string
  content: string
  images?: string[]
  isVerifiedPurchase: boolean
  helpfulCount: number
  createdAt: string
  updatedAt: string
}

export interface ReviewStats {
  averageRating: number
  totalCount: number
  ratingDistribution: {
    1: number
    2: number
    3: number
    4: number
    5: number
  }
}
```

### ë¦¬ë·° ì»´í¬ë„ŒíŠ¸

```typescript
// src/components/shop/ReviewSection.tsx
'use client'

import { useState } from 'react'
import { Button, Badge } from '@/components/ui'
import { useUserStore } from '@/store'

interface ReviewSectionProps {
  productId: string
  reviews: Review[]
  stats: ReviewStats
}

export default function ReviewSection({ productId, reviews, stats }: ReviewSectionProps) {
  const [sortBy, setSortBy] = useState<'latest' | 'helpful' | 'rating'>('latest')
  const { user } = useUserStore()
  
  const sortedReviews = [...reviews].sort((a, b) => {
    switch (sortBy) {
      case 'latest':
        return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime()
      case 'helpful':
        return b.helpfulCount - a.helpfulCount
      case 'rating':
        return b.rating - a.rating
      default:
        return 0
    }
  })
  
  return (
    <div className="mt-12">
      <div className="flex items-center justify-between mb-8">
        <h2 className="text-2xl font-bold">ìƒí’ˆ ë¦¬ë·° ({stats.totalCount})</h2>
        {user && (
          <Button variant="outline">ë¦¬ë·° ì‘ì„±í•˜ê¸°</Button>
        )}
      </div>
      
      {/* í‰ì  í†µê³„ */}
      <div className="bg-gray-50 p-6 rounded-lg mb-8">
        <div className="flex items-center gap-8">
          <div className="text-center">
            <p className="text-4xl font-bold">{stats.averageRating.toFixed(1)}</p>
            <div className="flex justify-center my-2">
              {[...Array(5)].map((_, i) => (
                <svg
                  key={i}
                  className={`w-5 h-5 ${i < Math.round(stats.averageRating) ? 'text-yellow-400 fill-current' : 'text-gray-300'}`}
                  viewBox="0 0 20 20"
                >
                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                </svg>
              ))}
            </div>
            <p className="text-sm text-gray-600">{stats.totalCount}ê°œ ë¦¬ë·°</p>
          </div>
          
          <div className="flex-1">
            {[5, 4, 3, 2, 1].map((rating) => (
              <div key={rating} className="flex items-center gap-2 mb-1">
                <span className="text-sm w-4">{rating}</span>
                <div className="flex-1 bg-gray-200 rounded-full h-2">
                  <div
                    className="bg-yellow-400 h-2 rounded-full"
                    style={{
                      width: `${(stats.ratingDistribution[rating] / stats.totalCount) * 100}%`
                    }}
                  />
                </div>
                <span className="text-sm text-gray-600 w-12 text-right">
                  {stats.ratingDistribution[rating]}
                </span>
              </div>
            ))}
          </div>
        </div>
      </div>
      
      {/* ì •ë ¬ ì˜µì…˜ */}
      <div className="flex gap-2 mb-6">
        <button
          onClick={() => setSortBy('latest')}
          className={`px-4 py-2 rounded ${sortBy === 'latest' ? 'bg-black text-white' : 'bg-gray-200'}`}
        >
          ìµœì‹ ìˆœ
        </button>
        <button
          onClick={() => setSortBy('helpful')}
          className={`px-4 py-2 rounded ${sortBy === 'helpful' ? 'bg-black text-white' : 'bg-gray-200'}`}
        >
          ë„ì›€ìˆœ
        </button>
        <button
          onClick={() => setSortBy('rating')}
          className={`px-4 py-2 rounded ${sortBy === 'rating' ? 'bg-black text-white' : 'bg-gray-200'}`}
        >
          í‰ì ìˆœ
        </button>
      </div>
      
      {/* ë¦¬ë·° ëª©ë¡ */}
      <div className="space-y-6">
        {sortedReviews.map((review) => (
          <ReviewItem key={review.id} review={review} />
        ))}
      </div>
    </div>
  )
}

function ReviewItem({ review }: { review: Review }) {
  const [isHelpful, setIsHelpful] = useState(false)
  
  return (
    <div className="border-b pb-6">
      <div className="flex items-start justify-between mb-2">
        <div>
          <div className="flex items-center gap-2 mb-1">
            <div className="flex">
              {[...Array(5)].map((_, i) => (
                <svg
                  key={i}
                  className={`w-4 h-4 ${i < review.rating ? 'text-yellow-400 fill-current' : 'text-gray-300'}`}
                  viewBox="0 0 20 20"
                >
                  <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                </svg>
              ))}
            </div>
            <span className="font-semibold">{review.userName}</span>
            {review.isVerifiedPurchase && (
              <Badge variant="new" className="text-xs">êµ¬ë§¤ ì¸ì¦</Badge>
            )}
          </div>
          <p className="text-sm text-gray-600">
            {formatDate(review.createdAt, 'short')}
          </p>
        </div>
      </div>
      
      {review.title && (
        <h4 className="font-semibold mb-2">{review.title}</h4>
      )}
      
      <p className="text-gray-700 mb-4">{review.content}</p>
      
      {review.images && review.images.length > 0 && (
        <div className="flex gap-2 mb-4">
          {review.images.map((image, index) => (
            <img
              key={index}
              src={image}
              alt={`ë¦¬ë·° ì´ë¯¸ì§€ ${index + 1}`}
              className="w-20 h-20 object-cover rounded"
            />
          ))}
        </div>
      )}
      
      <button
        onClick={() => setIsHelpful(!isHelpful)}
        className={`text-sm ${isHelpful ? 'text-blue-600' : 'text-gray-600'}`}
      >
        ğŸ‘ ë„ì›€ì´ ëì–´ìš” ({review.helpfulCount + (isHelpful ? 1 : 0)})
      </button>
    </div>
  )
}
```

### ë¦¬ë·° ì‘ì„± ëª¨ë‹¬

```typescript
// src/components/shop/ReviewModal.tsx
'use client'

import { useState } from 'react'
import { Button } from '@/components/ui'

interface ReviewModalProps {
  productId: string
  onClose: () => void
  onSubmit: (review: any) => void
}

export default function ReviewModal({ productId, onClose, onSubmit }: ReviewModalProps) {
  const [rating, setRating] = useState(5)
  const [title, setTitle] = useState('')
  const [content, setContent] = useState('')
  const [images, setImages] = useState<File[]>([])
  
  const handleSubmit = (e: React.FormEvent) => {
    e.preventDefault()
    
    const formData = new FormData()
    formData.append('productId', productId)
    formData.append('rating', rating.toString())
    formData.append('title', title)
    formData.append('content', content)
    
    images.forEach((image, index) => {
      formData.append(`images[${index}]`, image)
    })
    
    onSubmit(formData)
  }
  
  return (
    <div className="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50">
      <div className="bg-white rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto">
        <h2 className="text-xl font-bold mb-4">ë¦¬ë·° ì‘ì„±</h2>
        
        <form onSubmit={handleSubmit} className="space-y-4">
          {/* ë³„ì  ì„ íƒ */}
          <div>
            <label className="block text-sm font-medium mb-2">í‰ì </label>
            <div className="flex gap-1">
              {[1, 2, 3, 4, 5].map((star) => (
                <button
                  key={star}
                  type="button"
                  onClick={() => setRating(star)}
                  className="text-2xl"
                >
                  <svg
                    className={`w-8 h-8 ${star <= rating ? 'text-yellow-400 fill-current' : 'text-gray-300'}`}
                    viewBox="0 0 20 20"
                  >
                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                  </svg>
                </button>
              ))}
            </div>
          </div>
          
          {/* ì œëª© */}
          <div>
            <label className="block text-sm font-medium mb-2">ì œëª©</label>
            <input
              type="text"
              value={title}
              onChange={(e) => setTitle(e.target.value)}
              className="w-full px-4 py-2 border rounded-lg"
              placeholder="ë¦¬ë·° ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”"
            />
          </div>
          
          {/* ë‚´ìš© */}
          <div>
            <label className="block text-sm font-medium mb-2">ë‚´ìš©</label>
            <textarea
              value={content}
              onChange={(e) => setContent(e.target.value)}
              className="w-full px-4 py-2 border rounded-lg"
              rows={5}
              placeholder="ìƒí’ˆì— ëŒ€í•œ ì†”ì§í•œ ë¦¬ë·°ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”"
              required
            />
          </div>
          
          {/* ì´ë¯¸ì§€ ì—…ë¡œë“œ */}
          <div>
            <label className="block text-sm font-medium mb-2">ì‚¬ì§„ ì²¨ë¶€</label>
            <input
              type="file"
              multiple
              accept="image/*"
              onChange={(e) => setImages(Array.from(e.target.files || []))}
              className="w-full"
            />
          </div>
          
          {/* ë²„íŠ¼ */}
          <div className="flex gap-2">
            <Button type="submit" className="flex-1">
              ë¦¬ë·° ë“±ë¡
            </Button>
            <Button type="button" variant="outline" onClick={onClose}>
              ì·¨ì†Œ
            </Button>
          </div>
        </form>
      </div>
    </div>
  )
}
```

---

## 4. ì‹¤ì‹œê°„ ì•Œë¦¼ ì‹œìŠ¤í…œ

### ì•Œë¦¼ íƒ€ì… ì •ì˜

```typescript
// src/types/notification.ts
export interface Notification {
  id: string
  userId: string
  type: NotificationType
  title: string
  message: string
  data?: any
  read: boolean
  createdAt: string
}

export enum NotificationType {
  RESTOCK = 'RESTOCK',
  SALE_START = 'SALE_START',
  ORDER_STATUS = 'ORDER_STATUS',
  WISHLIST_SALE = 'WISHLIST_SALE',
  REVIEW_RESPONSE = 'REVIEW_RESPONSE',
  COUPON = 'COUPON'
}
```

### ì›¹ í‘¸ì‹œ ì•Œë¦¼ ì„¤ì •

```typescript
// src/lib/pushNotification.ts
export class PushNotificationService {
  private registration: ServiceWorkerRegistration | null = null

  async initialize() {
    if (!('serviceWorker' in navigator) || !('PushManager' in window)) {
      console.warn('Push notifications are not supported')
      return
    }

    try {
      // ì„œë¹„ìŠ¤ ì›Œì»¤ ë“±ë¡
      this.registration = await navigator.serviceWorker.register('/sw.js')
      
      // ì•Œë¦¼ ê¶Œí•œ ìš”ì²­
      const permission = await Notification.requestPermission()
      if (permission !== 'granted') {
        console.warn('Notification permission denied')
        return
      }
      
      // í‘¸ì‹œ êµ¬ë…
      await this.subscribeToPush()
    } catch (error) {
      console.error('Failed to initialize push notifications:', error)
    }
  }

  private async subscribeToPush() {
    if (!this.registration) return

    try {
      const subscription = await this.registration.pushManager.subscribe({
        userVisibleOnly: true,
        applicationServerKey: this.urlBase64ToUint8Array(
          process.env.NEXT_PUBLIC_VAPID_PUBLIC_KEY!
        )
      })

      // ì„œë²„ì— êµ¬ë… ì •ë³´ ì „ì†¡
      await fetch('/api/notifications/subscribe', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(subscription)
      })
    } catch (error) {
      console.error('Failed to subscribe to push:', error)
    }
  }

  private urlBase64ToUint8Array(base64String: string) {
    const padding = '='.repeat((4 - base64String.length % 4) % 4)
    const base64 = (base64String + padding)
      .replace(/\-/g, '+')
      .replace(/_/g, '/')

    const rawData = window.atob(base64)
    const outputArray = new Uint8Array(rawData.length)

    for (let i = 0; i < rawData.length; ++i) {
      outputArray[i] = rawData.charCodeAt(i)
    }
    return outputArray
  }

  async showNotification(title: string, options: NotificationOptions) {
    if (!this.registration) return

    await this.registration.showNotification(title, {
      icon: '/icon-192x192.png',
      badge: '/icon-72x72.png',
      ...options
    })
  }
}

export const pushNotificationService = new PushNotificationService()
```

### ì„œë¹„ìŠ¤ ì›Œì»¤

```javascript
// public/sw.js
self.addEventListener('push', function(event) {
  const data = event.data?.json() || {}
  
  const options = {
    body: data.body,
    icon: '/icon-192x192.png',
    badge: '/icon-72x72.png',
    data: data.data,
    actions: data.actions || []
  }
  
  event.waitUntil(
    self.registration.showNotification(data.title, options)
  )
})

self.addEventListener('notificationclick', function(event) {
  event.notification.close()
  
  if (event.action === 'view') {
    event.waitUntil(
      clients.openWindow(event.notification.data.url)
    )
  }
})
```

### ì•Œë¦¼ Store

```typescript
// src/store/useNotificationStore.ts
import { create } from 'zustand'

interface NotificationState {
  notifications: Notification[]
  unreadCount: number
  
  // Actions
  addNotification: (notification: Notification) => void
  markAsRead: (id: string) => void
  markAllAsRead: () => void
  deleteNotification: (id: string) => void
  clearAll: () => void
}

export const useNotificationStore = create<NotificationState>((set, get) => ({
  notifications: [],
  unreadCount: 0,
  
  addNotification: (notification) => {
    set(state => ({
      notifications: [notification, ...state.notifications],
      unreadCount: state.unreadCount + 1
    }))
    
    // ë¸Œë¼ìš°ì € ì•Œë¦¼ í‘œì‹œ
    if (Notification.permission === 'granted') {
      new Notification(notification.title, {
        body: notification.message,
        icon: '/icon-192x192.png'
      })
    }
  },
  
  markAsRead: (id) => {
    set(state => ({
      notifications: state.notifications.map(n =>
        n.id === id ? { ...n, read: true } : n
      ),
      unreadCount: Math.max(0, state.unreadCount - 1)
    }))
  },
  
  markAllAsRead: () => {
    set(state => ({
      notifications: state.notifications.map(n => ({ ...n, read: true })),
      unreadCount: 0
    }))
  },
  
  deleteNotification: (id) => {
    set(state => {
      const notification = state.notifications.find(n => n.id === id)
      return {
        notifications: state.notifications.filter(n => n.id !== id),
        unreadCount: notification && !notification.read 
          ? state.unreadCount - 1 
          : state.unreadCount
      }
    })
  },
  
  clearAll: () => {
    set({ notifications: [], unreadCount: 0 })
  }
}))
```

---

## 5. ê³ ê¸‰ í•„í„°ë§ ë° ì •ë ¬

### í•„í„° ì»´í¬ë„ŒíŠ¸

```typescript
// src/components/shop/AdvancedFilter.tsx
'use client'

import { useState } from 'react'
import { useProductStore } from '@/store'
import { Button } from '@/components/ui'

export default function AdvancedFilter() {
  const { filters, setFilters, categories, brands } = useProductStore()
  const [isOpen, setIsOpen] = useState(false)
  const [priceRange, setPriceRange] = useState([0, 1000000])
  const [selectedSizes, setSelectedSizes] = useState<string[]>([])
  const [selectedColors, setSelectedColors] = useState<string[]>([])
  
  const handleApplyFilters = () => {
    setFilters({
      ...filters,
      minPrice: priceRange[0],
      maxPrice: priceRange[1],
      sizes: selectedSizes,
      colors: selectedColors
    })
    setIsOpen(false)
  }
  
  const handleResetFilters = () => {
    setPriceRange([0, 1000000])
    setSelectedSizes([])
    setSelectedColors([])
    setFilters({})
  }
  
  return (
    <div className="relative">
      <Button
        variant="outline"
        onClick={() => setIsOpen(!isOpen)}
        className="flex items-center gap-2"
      >
        <svg className="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z" />
        </svg>
        í•„í„°
      </Button>
      
      {isOpen && (
        <div className="absolute top-full mt-2 right-0 bg-white shadow-lg rounded-lg p-6 w-80 z-50">
          <h3 className="font-semibold mb-4">ìƒì„¸ í•„í„°</h3>
          
          {/* ê°€ê²© ë²”ìœ„ */}
          <div className="mb-6">
            <label className="block text-sm font-medium mb-2">ê°€ê²© ë²”ìœ„</label>
            <div className="space-y-2">
              <input
                type="range"
                min="0"
                max="1000000"
                step="10000"
                value={priceRange[1]}
                onChange={(e) => setPriceRange([priceRange[0], parseInt(e.target.value)])}
                className="w-full"
              />
              <div className="flex justify-between text-sm">
                <span>{formatPrice(priceRange[0])}</span>
                <span>{formatPrice(priceRange[1])}</span>
              </div>
            </div>
          </div>
          
          {/* ì‚¬ì´ì¦ˆ */}
          <div className="mb-6">
            <label className="block text-sm font-medium mb-2">ì‚¬ì´ì¦ˆ</label>
            <div className="grid grid-cols-4 gap-2">
              {['XS', 'S', 'M', 'L', 'XL', 'XXL'].map((size) => (
                <button
                  key={size}
                  onClick={() => {
                    setSelectedSizes(
                      selectedSizes.includes(size)
                        ? selectedSizes.filter(s => s !== size)
                        : [...selectedSizes, size]
                    )
                  }}
                  className={`py-1 px-2 border rounded text-sm ${
                    selectedSizes.includes(size)
                      ? 'bg-black text-white border-black'
                      : 'bg-white text-black border-gray-300'
                  }`}
                >
                  {size}
                </button>
              ))}
            </div>
          </div>
          
          {/* ìƒ‰ìƒ */}
          <div className="mb-6">
            <label className="block text-sm font-medium mb-2">ìƒ‰ìƒ</label>
            <div className="grid grid-cols-6 gap-2">
              {[
                { id: 'black', hex: '#000000' },
                { id: 'white', hex: '#FFFFFF' },
                { id: 'gray', hex: '#808080' },
                { id: 'navy', hex: '#000080' },
                { id: 'beige', hex: '#F5F5DC' },
                { id: 'brown', hex: '#8B4513' }
              ].map((color) => (
                <button
                  key={color.id}
                  onClick={() => {
                    setSelectedColors(
                      selectedColors.includes(color.id)
                        ? selectedColors.filter(c => c !== color.id)
                        : [...selectedColors, color.id]
                    )
                  }}
                  className={`w-8 h-8 rounded-full border-2 ${
                    selectedColors.includes(color.id)
                      ? 'border-blue-500'
                      : 'border-gray-300'
                  }`}
                  style={{ backgroundColor: color.hex }}
                />
              ))}
            </div>
          </div>
          
          {/* ë²„íŠ¼ */}
          <div className="flex gap-2">
            <Button onClick={handleApplyFilters} className="flex-1">
              í•„í„° ì ìš©
            </Button>
            <Button variant="outline" onClick={handleResetFilters}>
              ì´ˆê¸°í™”
            </Button>
          </div>
        </div>
      )}
    </div>
  )
}
```

---

## 6. ìƒí’ˆ ë¹„êµ ê¸°ëŠ¥

### ë¹„êµ Store

```typescript
// src/store/useCompareStore.ts
import { create } from 'zustand'
import { Product } from '@/types'

interface CompareState {
  items: Product[]
  isOpen: boolean
  
  // Actions
  addItem: (product: Product) => void
  removeItem: (productId: string) => void
  clearAll: () => void
  toggleCompare: () => void
}

export const useCompareStore = create<CompareState>((set, get) => ({
  items: [],
  isOpen: false,
  
  addItem: (product) => {
    const { items } = get()
    if (items.length >= 3) {
      alert('ìµœëŒ€ 3ê°œê¹Œì§€ ë¹„êµí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.')
      return
    }
    
    if (items.find(item => item.id === product.id)) {
      alert('ì´ë¯¸ ë¹„êµí•¨ì— ìˆëŠ” ìƒí’ˆì…ë‹ˆë‹¤.')
      return
    }
    
    set({ items: [...items, product], isOpen: true })
  },
  
  removeItem: (productId) => {
    set(state => ({
      items: state.items.filter(item => item.id !== productId)
    }))
  },
  
  clearAll: () => {
    set({ items: [], isOpen: false })
  },
  
  toggleCompare: () => {
    set(state => ({ isOpen: !state.isOpen }))
  }
}))
```

### ë¹„êµ í…Œì´ë¸” ì»´í¬ë„ŒíŠ¸

```typescript
// src/components/shop/CompareTable.tsx
'use client'

import { useCompareStore } from '@/store'
import { Button } from '@/components/ui'

export default function CompareTable() {
  const { items, removeItem, clearAll, isOpen, toggleCompare } = useCompareStore()
  
  if (!isOpen || items.length === 0) return null
  
  return (
    <div className="fixed bottom-0 left-0 right-0 bg-white shadow-lg border-t z-40">
      <div className="container mx-auto px-4 py-4">
        <div className="flex items-center justify-between mb-4">
          <h3 className="font-semibold">ìƒí’ˆ ë¹„êµ ({items.length}/3)</h3>
          <div className="flex gap-2">
            <Button variant="outline" size="sm" onClick={clearAll}>
              ì „ì²´ ì‚­ì œ
            </Button>
            <Button variant="ghost" size="sm" onClick={toggleCompare}>
              ë‹«ê¸°
            </Button>
          </div>
        </div>
        
        <div className="overflow-x-auto">
          <table className="w-full">
            <thead>
              <tr>
                <th className="text-left p-2">í•­ëª©</th>
                {items.map((item) => (
                  <th key={item.id} className="p-2">
                    <div className="relative">
                      <img
                        src={item.image}
                        alt={item.name}
                        className="w-20 h-20 object-cover mx-auto mb-2"
                      />
                      <h4 className="text-sm font-medium">{item.name}</h4>
                      <button
                        onClick={() => removeItem(item.id)}
                        className="absolute top-0 right-0 text-gray-400 hover:text-gray-600"
                      >
                        âœ•
                      </button>
                    </div>
                  </th>
                ))}
              </tr>
            </thead>
            <tbody>
              <tr>
                <td className="p-2 font-medium">ê°€ê²©</td>
                {items.map((item) => (
                  <td key={item.id} className="p-2 text-center">
                    {formatPrice(item.price)}
                  </td>
                ))}
              </tr>
              <tr className="bg-gray-50">
                <td className="p-2 font-medium">ë¸Œëœë“œ</td>
                {items.map((item) => (
                  <td key={item.id} className="p-2 text-center">
                    {item.brand}
                  </td>
                ))}
              </tr>
              <tr>
                <td className="p-2 font-medium">í‰ì </td>
                {items.map((item) => (
                  <td key={item.id} className="p-2 text-center">
                    â­ {item.rating} ({item.reviewCount})
                  </td>
                ))}
              </tr>
              <tr className="bg-gray-50">
                <td className="p-2 font-medium">ë°°ì†¡</td>
                {items.map((item) => (
                  <td key={item.id} className="p-2 text-center">
                    ë¬´ë£Œë°°ì†¡
                  </td>
                ))}
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  )
}
```

---

## 7. ì¿ í° ë° í¬ì¸íŠ¸ ì‹œìŠ¤í…œ

### ì¿ í° íƒ€ì… ì •ì˜

```typescript
// src/types/coupon.ts
export interface Coupon {
  id: string
  code: string
  name: string
  type: CouponType
  value: number // í• ì¸ìœ¨ ë˜ëŠ” í• ì¸ ê¸ˆì•¡
  minOrderAmount?: number
  maxDiscountAmount?: number
  validFrom: string
  validUntil: string
  isUsed: boolean
  usedAt?: string
}

export enum CouponType {
  PERCENTAGE = 'PERCENTAGE', // í¼ì„¼íŠ¸ í• ì¸
  FIXED = 'FIXED' // ì •ì•¡ í• ì¸
}

export interface UserPoint {
  userId: string
  balance: number
  history: PointHistory[]
}

export interface PointHistory {
  id: string
  type: 'EARN' | 'USE' | 'EXPIRE'
  amount: number
  description: string
  createdAt: string
  expiresAt?: string
}
```

### ì¿ í° ì ìš© ì»´í¬ë„ŒíŠ¸

```typescript
// src/components/shop/CouponSelector.tsx
'use client'

import { useState } from 'react'
import { Button } from '@/components/ui'

interface CouponSelectorProps {
  availableCoupons: Coupon[]
  orderAmount: number
  onApply: (coupon: Coupon) => void
}

export default function CouponSelector({ 
  availableCoupons, 
  orderAmount, 
  onApply 
}: CouponSelectorProps) {
  const [selectedCouponId, setSelectedCouponId] = useState<string>('')
  const [isOpen, setIsOpen] = useState(false)
  
  const applicableCoupons = availableCoupons.filter(coupon => {
    if (coupon.isUsed) return false
    if (coupon.minOrderAmount && orderAmount < coupon.minOrderAmount) return false
    
    const now = new Date()
    const validFrom = new Date(coupon.validFrom)
    const validUntil = new Date(coupon.validUntil)
    
    return now >= validFrom && now <= validUntil
  })
  
  const calculateDiscount = (coupon: Coupon): number => {
    if (coupon.type === CouponType.PERCENTAGE) {
      const discount = orderAmount * (coupon.value / 100)
      return coupon.maxDiscountAmount 
        ? Math.min(discount, coupon.maxDiscountAmount)
        : discount
    }
    return coupon.value
  }
  
  return (
    <div className="border rounded-lg p-4">
      <div className="flex items-center justify-between mb-2">
        <h3 className="font-medium">ì¿ í° ì ìš©</h3>
        <Button
          variant="outline"
          size="sm"
          onClick={() => setIsOpen(!isOpen)}
        >
          ì¿ í° ì„ íƒ ({applicableCoupons.length}ê°œ ì‚¬ìš© ê°€ëŠ¥)
        </Button>
      </div>
      
      {isOpen && (
        <div className="mt-4 space-y-2">
          {applicableCoupons.map((coupon) => (
            <label
              key={coupon.id}
              className="flex items-start gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50"
            >
              <input
                type="radio"
                name="coupon"
                value={coupon.id}
                checked={selectedCouponId === coupon.id}
                onChange={(e) => setSelectedCouponId(e.target.value)}
                className="mt-1"
              />
              <div className="flex-1">
                <p className="font-medium">{coupon.name}</p>
                <p className="text-sm text-gray-600">
                  {coupon.type === CouponType.PERCENTAGE
                    ? `${coupon.value}% í• ì¸`
                    : `${formatPrice(coupon.value)} í• ì¸`}
                  {coupon.minOrderAmount && (
                    <span> (ìµœì†Œ {formatPrice(coupon.minOrderAmount)})</span>
                  )}
                </p>
                <p className="text-sm text-red-500">
                  í• ì¸ ê¸ˆì•¡: {formatPrice(calculateDiscount(coupon))}
                </p>
                <p className="text-xs text-gray-500">
                  ìœ íš¨ê¸°ê°„: {formatDate(coupon.validUntil, 'short')}ê¹Œì§€
                </p>
              </div>
            </label>
          ))}
          
          <Button
            onClick={() => {
              const coupon = applicableCoupons.find(c => c.id === selectedCouponId)
              if (coupon) {
                onApply(coupon)
                setIsOpen(false)
              }
            }}
            disabled={!selectedCouponId}
            className="w-full"
          >
            ì¿ í° ì ìš©
          </Button>
        </div>
      )}
    </div>
  )
}
```

---

## 8. ìƒí’ˆ ìƒì„¸ ê°œì„ 

### ì´ë¯¸ì§€ ì¤Œ ê¸°ëŠ¥

```typescript
// src/components/shop/ImageZoom.tsx
'use client'

import { useState } from 'react'

interface ImageZoomProps {
  src: string
  alt: string
}

export default function ImageZoom({ src, alt }: ImageZoomProps) {
  const [isZooming, setIsZooming] = useState(false)
  const [position, setPosition] = useState({ x: 0, y: 0 })
  
  const handleMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {
    const rect = e.currentTarget.getBoundingClientRect()
    const x = ((e.clientX - rect.left) / rect.width) * 100
    const y = ((e.clientY - rect.top) / rect.height) * 100
    setPosition({ x, y })
  }
  
  return (
    <div className="relative overflow-hidden">
      <div
        className="relative cursor-zoom-in"
        onMouseEnter={() => setIsZooming(true)}
        onMouseLeave={() => setIsZooming(false)}
        onMouseMove={handleMouseMove}
      >
        <img src={src} alt={alt} className="w-full" />
        
        {isZooming && (
          <div
            className="absolute inset-0"
            style={{
              backgroundImage: `url(${src})`,
              backgroundPosition: `${position.x}% ${position.y}%`,
              backgroundSize: '200%',
              backgroundRepeat: 'no-repeat'
            }}
          />
        )}
      </div>
    </div>
  )
}
```

### ì‚¬ì´ì¦ˆ ê°€ì´ë“œ ëª¨ë‹¬

```typescript
// src/components/shop/SizeGuide.tsx
export default function SizeGuide({ category }: { category: string }) {
  const sizeCharts = {
    tops: {
      headers: ['ì‚¬ì´ì¦ˆ', 'ì–´ê¹¨', 'ê°€ìŠ´', 'ì´ì¥', 'ì†Œë§¤'],
      data: [
        ['S', '44', '96', '66', '58'],
        ['M', '46', '100', '68', '59'],
        ['L', '48', '104', '70', '60'],
        ['XL', '50', '108', '72', '61']
      ]
    },
    bottoms: {
      headers: ['ì‚¬ì´ì¦ˆ', 'í—ˆë¦¬', 'ì—‰ë©ì´', 'í—ˆë²…ì§€', 'ì´ì¥'],
      data: [
        ['S', '76', '94', '58', '100'],
        ['M', '80', '98', '60', '102'],
        ['L', '84', '102', '62', '104'],
        ['XL', '88', '106', '64', '106']
      ]
    }
  }
  
  const chart = sizeCharts[category] || sizeCharts.tops
  
  return (
    <div className="p-6">
      <h3 className="text-lg font-semibold mb-4">ì‚¬ì´ì¦ˆ ê°€ì´ë“œ</h3>
      
      <table className="w-full border-collapse">
        <thead>
          <tr className="bg-gray-100">
            {chart.headers.map((header) => (
              <th key={header} className="border p-2 text-sm">
                {header}
              </th>
            ))}
          </tr>
        </thead>
        <tbody>
          {chart.data.map((row, index) => (
            <tr key={index}>
              {row.map((cell, cellIndex) => (
                <td key={cellIndex} className="border p-2 text-center text-sm">
                  {cell}
                </td>
              ))}
            </tr>
          ))}
        </tbody>
      </table>
      
      <div className="mt-4 text-sm text-gray-600">
        <p>â€¢ ìœ„ ì¹˜ìˆ˜ëŠ” ìƒí’ˆ ì‹¤ì¸¡ ì‚¬ì´ì¦ˆì…ë‹ˆë‹¤. (ë‹¨ìœ„: cm)</p>
        <p>â€¢ ì¸¡ì • ë°©ë²•ì— ë”°ë¼ 1-3cm ì˜¤ì°¨ê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
      </div>
    </div>
  )
}
```

---

## 9. ê²€ìƒ‰ ê³ ë„í™”

### ìë™ì™„ì„± ê²€ìƒ‰

```typescript
// src/components/shop/AutocompleteSearch.tsx
'use client'

import { useState, useEffect } from 'react'
import { useDebounce } from '@/hooks/useDebounce'
import { searchService } from '@/services/searchService'

export default function AutocompleteSearch() {
  const [query, setQuery] = useState('')
  const [suggestions, setSuggestions] = useState<any[]>([])
  const [isLoading, setIsLoading] = useState(false)
  const debouncedQuery = useDebounce(query, 300)
  
  useEffect(() => {
    if (debouncedQuery.length < 2) {
      setSuggestions([])
      return
    }
    
    const fetchSuggestions = async () => {
      setIsLoading(true)
      try {
        const results = await searchService.getSuggestions(debouncedQuery)
        setSuggestions(results)
      } catch (error) {
        console.error('Failed to fetch suggestions:', error)
      } finally {
        setIsLoading(false)
      }
    }
    
    fetchSuggestions()
  }, [debouncedQuery])
  
  return (
    <div className="relative">
      <input
        type="search"
        value={query}
        onChange={(e) => setQuery(e.target.value)}
        placeholder="ìƒí’ˆ, ë¸Œëœë“œ ê²€ìƒ‰"
        className="w-full px-4 py-2 pl-10 border rounded-lg"
      />
      
      {/* ê²€ìƒ‰ ì•„ì´ì½˜ */}
      <svg className="absolute left-3 top-3 w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
      </svg>
      
      {/* ìë™ì™„ì„± ë“œë¡­ë‹¤ìš´ */}
      {suggestions.length > 0 && (
        <div className="absolute top-full mt-1 w-full bg-white border rounded-lg shadow-lg z-50">
          {/* ì¸ê¸° ê²€ìƒ‰ì–´ */}
          <div className="p-3 border-b">
            <p className="text-sm font-medium text-gray-600 mb-2">ì¸ê¸° ê²€ìƒ‰ì–´</p>
            <div className="flex flex-wrap gap-2">
              {['ë‚˜ì´í‚¤', 'ì•„ë””ë‹¤ìŠ¤', 'ë°˜íŒ”', 'ì²­ë°”ì§€'].map((term) => (
                <button
                  key={term}
                  onClick={() => setQuery(term)}
                  className="px-3 py-1 bg-gray-100 rounded-full text-sm hover:bg-gray-200"
                >
                  {term}
                </button>
              ))}
            </div>
          </div>
          
          {/* ê²€ìƒ‰ ì œì•ˆ */}
          <div className="p-3">
            <p className="text-sm font-medium text-gray-600 mb-2">ì¶”ì²œ ê²€ìƒ‰ì–´</p>
            {suggestions.map((suggestion) => (
              <button
                key={suggestion.id}
                onClick={() => setQuery(suggestion.term)}
                className="block w-full text-left px-3 py-2 hover:bg-gray-50 rounded"
              >
                <div className="flex items-center justify-between">
                  <span>{suggestion.term}</span>
                  <span className="text-sm text-gray-500">
                    {suggestion.productCount}ê°œ ìƒí’ˆ
                  </span>
                </div>
              </button>
            ))}
          </div>
        </div>
      )}
    </div>
  )
}
```

### ê²€ìƒ‰ í•„í„°

```typescript
// src/components/shop/SearchFilter.tsx
export default function SearchFilter({ 
  results, 
  onFilterChange 
}: { 
  results: any[], 
  onFilterChange: (filters: any) => void 
}) {
  const [filters, setFilters] = useState({
    category: '',
    brand: '',
    priceRange: '',
    sortBy: 'relevance'
  })
  
  // ê²€ìƒ‰ ê²°ê³¼ì—ì„œ ì¹´í…Œê³ ë¦¬/ë¸Œëœë“œ ì¶”ì¶œ
  const categories = [...new Set(results.map(r => r.category))]
  const brands = [...new Set(results.map(r => r.brand))]
  
  const handleFilterChange = (key: string, value: string) => {
    const newFilters = { ...filters, [key]: value }
    setFilters(newFilters)
    onFilterChange(newFilters)
  }
  
  return (
    <div className="flex gap-4 mb-6">
      <select
        value={filters.category}
        onChange={(e) => handleFilterChange('category', e.target.value)}
        className="px-4 py-2 border rounded-lg"
      >
        <option value="">ì „ì²´ ì¹´í…Œê³ ë¦¬</option>
        {categories.map((cat) => (
          <option key={cat} value={cat}>{cat}</option>
        ))}
      </select>
      
      <select
        value={filters.brand}
        onChange={(e) => handleFilterChange('brand', e.target.value)}
        className="px-4 py-2 border rounded-lg"
      >
        <option value="">ì „ì²´ ë¸Œëœë“œ</option>
        {brands.map((brand) => (
          <option key={brand} value={brand}>{brand}</option>
        ))}
      </select>
      
      <select
        value={filters.sortBy}
        onChange={(e) => handleFilterChange('sortBy', e.target.value)}
        className="px-4 py-2 border rounded-lg ml-auto"
      >
        <option value="relevance">ê´€ë ¨ë„ìˆœ</option>
        <option value="price_asc">ê°€ê²© ë‚®ì€ìˆœ</option>
        <option value="price_desc">ê°€ê²© ë†’ì€ìˆœ</option>
        <option value="rating">í‰ì ìˆœ</option>
        <option value="reviews">ë¦¬ë·° ë§ì€ìˆœ</option>
      </select>
    </div>
  )
}
```

---

## 10. PWA êµ¬í˜„

### ğŸ’¡ PWA(Progressive Web App)ë€?
ì›¹ì‚¬ì´íŠ¸ë¥¼ ìŠ¤ë§ˆíŠ¸í° ì•±ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ë§Œë“œëŠ” ê¸°ìˆ ì…ë‹ˆë‹¤.
- **ì„¤ì¹˜ ê°€ëŠ¥**: í™ˆ í™”ë©´ì— ì•„ì´ì½˜ ì¶”ê°€
- **ì˜¤í”„ë¼ì¸ ì‘ë™**: ì¸í„°ë„· ì—†ì–´ë„ ê¸°ë³¸ ê¸°ëŠ¥ ì‚¬ìš©
- **í‘¸ì‹œ ì•Œë¦¼**: ì•±ì²˜ëŸ¼ ì•Œë¦¼ ë°›ê¸°
- **ë¹ ë¥¸ ë¡œë”©**: ìºì‹±ìœ¼ë¡œ ì†ë„ í–¥ìƒ

### Next.js PWA ì„¤ì •

```javascript
// next.config.js

// ğŸ’¡ next-pwa ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì •
// ë¨¼ì € ì„¤ì¹˜: npm install next-pwa
const withPWA = require('next-pwa')({
  dest: 'public',         // ì„œë¹„ìŠ¤ ì›Œì»¤ íŒŒì¼ì´ ìƒì„±ë  ìœ„ì¹˜
  register: true,         // ì„œë¹„ìŠ¤ ì›Œì»¤ ìë™ ë“±ë¡
  skipWaiting: true,      // ìƒˆ ë²„ì „ ì¦‰ì‹œ í™œì„±í™”
  disable: process.env.NODE_ENV === 'development'  // ê°œë°œ ì¤‘ì—” ë¹„í™œì„±í™”
})

module.exports = withPWA({
  // ê¸°ì¡´ Next.js ì„¤ì •
})
```

### Manifest íŒŒì¼

```json
// public/manifest.json
{
  "name": "ê³ êµ¬ë§ˆ ë§ˆì¼“",
  "short_name": "ê³ êµ¬ë§ˆë§ˆì¼“",
  "description": "ì˜¨ë¼ì¸ íŒ¨ì…˜ ì‡¼í•‘ëª°",
  "start_url": "/",
  "display": "standalone",
  "background_color": "#ffffff",
  "theme_color": "#000000",
  "icons": [
    {
      "src": "/icon-192x192.png",
      "sizes": "192x192",
      "type": "image/png"
    },
    {
      "src": "/icon-512x512.png",
      "sizes": "512x512",
      "type": "image/png"
    }
  ]
}
```

### ì˜¤í”„ë¼ì¸ ì§€ì›

```javascript
// public/sw.js
const CACHE_NAME = 'goguma-market-v1'
const urlsToCache = [
  '/',
  '/offline',
  '/styles/globals.css',
  '/images/logo.png'
]

// ğŸ’¡ ì„œë¹„ìŠ¤ ì›Œì»¤ì˜ ìƒëª…ì£¼ê¸°
// 1. install: ì„œë¹„ìŠ¤ ì›Œì»¤ê°€ ì²˜ìŒ ì„¤ì¹˜ë  ë•Œ
// 2. activate: ì„œë¹„ìŠ¤ ì›Œì»¤ê°€ í™œì„±í™”ë  ë•Œ
// 3. fetch: ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì´ ë°œìƒí•  ë•Œ

// ğŸ“¦ ì„¤ì¹˜ ì´ë²¤íŠ¸ - ìºì‹œì— íŒŒì¼ ì €ì¥
self.addEventListener('install', (event) => {
  // ğŸ’¡ event.waitUntil()ì´ë€?
  // ë¹„ë™ê¸° ì‘ì—…ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ì„¤ì¹˜ë¥¼ ê¸°ë‹¤ë¦½ë‹ˆë‹¤
  event.waitUntil(
    caches.open(CACHE_NAME)  // ìºì‹œ ì €ì¥ì†Œ ì—´ê¸°
      .then((cache) => cache.addAll(urlsToCache))  // íŒŒì¼ë“¤ì„ ìºì‹œì— ì¶”ê°€
  )
})

// í˜ì¹˜ ì´ë²¤íŠ¸
self.addEventListener('fetch', (event) => {
  event.respondWith(
    caches.match(event.request)
      .then((response) => {
        // ìºì‹œì— ìˆìœ¼ë©´ ìºì‹œ ì‘ë‹µ
        if (response) {
          return response
        }
        
        // ë„¤íŠ¸ì›Œí¬ ìš”ì²­
        return fetch(event.request).catch(() => {
          // ì˜¤í”„ë¼ì¸ í˜ì´ì§€ ë°˜í™˜
          if (event.request.destination === 'document') {
            return caches.match('/offline')
          }
        })
      })
  )
})
```

### ì„¤ì¹˜ í”„ë¡¬í”„íŠ¸

```typescript
// src/hooks/usePWA.ts
import { useState, useEffect } from 'react'

export function usePWA() {
  const [installPrompt, setInstallPrompt] = useState<any>(null)
  const [isInstalled, setIsInstalled] = useState(false)
  
  useEffect(() => {
    // ì„¤ì¹˜ í”„ë¡¬í”„íŠ¸ ì´ë²¤íŠ¸ ìº¡ì²˜
    const handleBeforeInstallPrompt = (e: Event) => {
      e.preventDefault()
      setInstallPrompt(e)
    }
    
    // ì„¤ì¹˜ ìƒíƒœ í™•ì¸
    if (window.matchMedia('(display-mode: standalone)').matches) {
      setIsInstalled(true)
    }
    
    window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt)
    
    return () => {
      window.removeEventListener('beforeinstallprompt', handleBeforeInstallPrompt)
    }
  }, [])
  
  const install = async () => {
    if (!installPrompt) return
    
    installPrompt.prompt()
    const { outcome } = await installPrompt.userChoice
    
    if (outcome === 'accepted') {
      setIsInstalled(true)
    }
    
    setInstallPrompt(null)
  }
  
  return { install, isInstalled, canInstall: !!installPrompt }
}
```

---

## 11. ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ

### ëŒ€ì‹œë³´ë“œ ë ˆì´ì•„ì›ƒ

```typescript
// src/app/admin/layout.tsx
export default function AdminLayout({ children }: { children: React.ReactNode }) {
  return (
    <div className="flex h-screen bg-gray-100">
      {/* ì‚¬ì´ë“œë°” */}
      <aside className="w-64 bg-white shadow-md">
        <div className="p-4">
          <h1 className="text-xl font-bold">ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ</h1>
        </div>
        <nav className="mt-8">
          <Link href="/admin" className="block px-4 py-2 hover:bg-gray-100">
            ëŒ€ì‹œë³´ë“œ
          </Link>
          <Link href="/admin/products" className="block px-4 py-2 hover:bg-gray-100">
            ìƒí’ˆ ê´€ë¦¬
          </Link>
          <Link href="/admin/orders" className="block px-4 py-2 hover:bg-gray-100">
            ì£¼ë¬¸ ê´€ë¦¬
          </Link>
          <Link href="/admin/users" className="block px-4 py-2 hover:bg-gray-100">
            íšŒì› ê´€ë¦¬
          </Link>
          <Link href="/admin/analytics" className="block px-4 py-2 hover:bg-gray-100">
            í†µê³„ ë¶„ì„
          </Link>
        </nav>
      </aside>
      
      {/* ë©”ì¸ ì½˜í…ì¸  */}
      <main className="flex-1 overflow-y-auto">
        <div className="p-8">
          {children}
        </div>
      </main>
    </div>
  )
}
```

### ìƒí’ˆ ê´€ë¦¬ í˜ì´ì§€

```typescript
// src/app/admin/products/page.tsx
export default function AdminProductsPage() {
  const [products, setProducts] = useState<Product[]>([])
  const [selectedProduct, setSelectedProduct] = useState<Product | null>(null)
  const [isModalOpen, setIsModalOpen] = useState(false)
  
  return (
    <div>
      <div className="flex justify-between items-center mb-6">
        <h2 className="text-2xl font-bold">ìƒí’ˆ ê´€ë¦¬</h2>
        <Button onClick={() => setIsModalOpen(true)}>
          ìƒˆ ìƒí’ˆ ë“±ë¡
        </Button>
      </div>
      
      {/* ìƒí’ˆ í…Œì´ë¸” */}
      <div className="bg-white rounded-lg shadow overflow-hidden">
        <table className="w-full">
          <thead className="bg-gray-50">
            <tr>
              <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">
                ìƒí’ˆëª…
              </th>
              <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">
                ë¸Œëœë“œ
              </th>
              <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">
                ê°€ê²©
              </th>
              <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">
                ì¬ê³ 
              </th>
              <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">
                ìƒíƒœ
              </th>
              <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">
                ì‘ì—…
              </th>
            </tr>
          </thead>
          <tbody className="divide-y divide-gray-200">
            {products.map((product) => (
              <tr key={product.id}>
                <td className="px-6 py-4 whitespace-nowrap">
                  <div className="flex items-center">
                    <img
                      src={product.image}
                      alt={product.name}
                      className="w-10 h-10 rounded object-cover mr-3"
                    />
                    <span>{product.name}</span>
                  </div>
                </td>
                <td className="px-6 py-4 whitespace-nowrap">
                  {product.brand}
                </td>
                <td className="px-6 py-4 whitespace-nowrap">
                  {formatPrice(product.price)}
                </td>
                <td className="px-6 py-4 whitespace-nowrap">
                  {product.stock}
                </td>
                <td className="px-6 py-4 whitespace-nowrap">
                  <span className={`px-2 py-1 text-xs rounded-full ${
                    product.stock > 0 
                      ? 'bg-green-100 text-green-800' 
                      : 'bg-red-100 text-red-800'
                  }`}>
                    {product.stock > 0 ? 'íŒë§¤ì¤‘' : 'í’ˆì ˆ'}
                  </span>
                </td>
                <td className="px-6 py-4 whitespace-nowrap">
                  <button
                    onClick={() => {
                      setSelectedProduct(product)
                      setIsModalOpen(true)
                    }}
                    className="text-blue-600 hover:text-blue-900 mr-2"
                  >
                    ìˆ˜ì •
                  </button>
                  <button className="text-red-600 hover:text-red-900">
                    ì‚­ì œ
                  </button>
                </td>
              </tr>
            ))}
          </tbody>
        </table>
      </div>
      
      {/* ìƒí’ˆ ë“±ë¡/ìˆ˜ì • ëª¨ë‹¬ */}
      {isModalOpen && (
        <ProductModal
          product={selectedProduct}
          onClose={() => {
            setIsModalOpen(false)
            setSelectedProduct(null)
          }}
          onSave={(product) => {
            // ìƒí’ˆ ì €ì¥ ë¡œì§
            setIsModalOpen(false)
            setSelectedProduct(null)
          }}
        />
      )}
    </div>
  )
}
```

---

## 12. AI ì¶”ì²œ ì‹œìŠ¤í…œ

### ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜

```typescript
// src/services/recommendationService.ts
export class RecommendationService {
  // ğŸ’¡ í˜‘ì—… í•„í„°ë§ì´ë€?
  // "ë‚˜ì™€ ë¹„ìŠ·í•œ ì·¨í–¥ì˜ ì‚¬ëŒë“¤ì´ ì¢‹ì•„í•œ ìƒí’ˆ"ì„ ì¶”ì²œí•˜ëŠ” ë°©ì‹
  // ì˜ˆ: ë„·í”Œë¦­ìŠ¤ì—ì„œ "ë‹¹ì‹ ê³¼ ì·¨í–¥ì´ ë¹„ìŠ·í•œ ì‚¬ìš©ìë“¤ì´ ë³¸ ì˜í™”"
  async getCollaborativeRecommendations(userId: string): Promise<Product[]> {
    // 1ï¸âƒ£ ë‚´ê°€ ë­˜ ìƒ€ëŠ”ì§€, ë­˜ ë´¤ëŠ”ì§€ ë¶„ì„
    const userHistory = await this.getUserHistory(userId)
    
    // 2ï¸âƒ£ ë‚˜ì™€ ë¹„ìŠ·í•œ ì‡¼í•‘ íŒ¨í„´ì„ ê°€ì§„ ì‚¬ëŒë“¤ ì°¾ê¸°
    // ì˜ˆ: ë‚˜ì´í‚¤ ìš´ë™í™”ë¥¼ ì‚° ì‚¬ëŒë“¤ ì¤‘ì— ì•„ë””ë‹¤ìŠ¤ ìš´ë™ë³µë„ ì‚° ì‚¬ëŒë“¤
    const similarUsers = await this.findSimilarUsers(userId, userHistory)
    
    // 3ï¸âƒ£ ê·¸ ì‚¬ëŒë“¤ì´ ì‚° ìƒí’ˆ ì¤‘ì— ë‚´ê°€ ì•ˆ ë³¸ ìƒí’ˆ ì¶”ì²œ
    const recommendations = await this.getRecommendationsFromSimilarUsers(
      userId, 
      similarUsers
    )
    
    return recommendations
  }
  
  // ì»¨í…ì¸  ê¸°ë°˜ ì¶”ì²œ
  async getContentBasedRecommendations(productId: string): Promise<Product[]> {
    const product = await productService.getProduct(productId)
    
    // ìƒí’ˆ íŠ¹ì„± ì¶”ì¶œ
    const features = {
      category: product.category,
      subcategory: product.subcategory,
      brand: product.brand,
      priceRange: this.getPriceRange(product.price),
      style: this.extractStyle(product)
    }
    
    // ìœ ì‚¬í•œ ìƒí’ˆ ì°¾ê¸°
    const similarProducts = await this.findSimilarProducts(features)
    
    return similarProducts
  }
  
  // í•˜ì´ë¸Œë¦¬ë“œ ì¶”ì²œ
  async getHybridRecommendations(
    userId: string, 
    context?: { time?: string, weather?: string, season?: string }
  ): Promise<Product[]> {
    // 1. í˜‘ì—… í•„í„°ë§ ì¶”ì²œ
    const collaborative = await this.getCollaborativeRecommendations(userId)
    
    // 2. ì‚¬ìš©ì ì„ í˜¸ë„ ê¸°ë°˜ ì¶”ì²œ
    const preferences = await this.getUserPreferences(userId)
    const contentBased = await this.getPreferenceBasedRecommendations(preferences)
    
    // 3. ì»¨í…ìŠ¤íŠ¸ ê¸°ë°˜ ì¡°ì •
    const contextAdjusted = this.adjustForContext([...collaborative, ...contentBased], context)
    
    // 4. ì ìˆ˜ ê³„ì‚° ë° ì •ë ¬
    const scored = this.scoreRecommendations(contextAdjusted, userId)
    
    return scored.slice(0, 20)
  }
  
  private getPriceRange(price: number): string {
    if (price < 30000) return 'low'
    if (price < 100000) return 'medium'
    return 'high'
  }
  
  private extractStyle(product: Product): string[] {
    // ìƒí’ˆ ì„¤ëª…, ì¹´í…Œê³ ë¦¬ ë“±ì—ì„œ ìŠ¤íƒ€ì¼ í‚¤ì›Œë“œ ì¶”ì¶œ
    const keywords = []
    if (product.description.includes('ìºì£¼ì–¼')) keywords.push('casual')
    if (product.description.includes('í¬ë©€')) keywords.push('formal')
    if (product.description.includes('ìŠ¤í¬í‹°')) keywords.push('sporty')
    return keywords
  }
}
```

### ê°œì¸í™”ëœ í™ˆí˜ì´ì§€

```typescript
// src/components/shop/PersonalizedHome.tsx
export default function PersonalizedHome({ userId }: { userId: string }) {
  const [recommendations, setRecommendations] = useState({
    forYou: [],
    trending: [],
    recentlyViewed: [],
    similarToLiked: []
  })
  
  useEffect(() => {
    const loadRecommendations = async () => {
      const [forYou, trending, similar] = await Promise.all([
        recommendationService.getHybridRecommendations(userId),
        recommendationService.getTrendingProducts(),
        recommendationService.getSimilarToLikedProducts(userId)
      ])
      
      setRecommendations({
        forYou,
        trending,
        recentlyViewed: useUserStore.getState().recentlyViewed,
        similarToLiked: similar
      })
    }
    
    loadRecommendations()
  }, [userId])
  
  return (
    <div className="space-y-12">
      {/* ë§ì¶¤ ì¶”ì²œ */}
      <section>
        <h2 className="text-2xl font-bold mb-6">ë‹¹ì‹ ì„ ìœ„í•œ ì¶”ì²œ</h2>
        <ProductCarousel products={recommendations.forYou} />
      </section>
      
      {/* íŠ¸ë Œë”© ìƒí’ˆ */}
      <section>
        <h2 className="text-2xl font-bold mb-6">ì§€ê¸ˆ ì¸ê¸°ìˆëŠ” ìƒí’ˆ</h2>
        <ProductGrid products={recommendations.trending} />
      </section>
      
      {/* ìµœê·¼ ë³¸ ìƒí’ˆê³¼ ìœ ì‚¬í•œ */}
      <section>
        <h2 className="text-2xl font-bold mb-6">ìµœê·¼ ë³¸ ìƒí’ˆê³¼ ë¹„ìŠ·í•œ</h2>
        <ProductCarousel products={recommendations.similarToLiked} />
      </section>
    </div>
  )
}
```

---

## êµ¬í˜„ ë¡œë“œë§µ

### Phase 1 (1-2ì£¼)
1. âœ… ì£¼ë¬¸/ê²°ì œ ì‹œìŠ¤í…œ ê¸°ë³¸ êµ¬í˜„
2. âœ… ê²°ì œ ê²Œì´íŠ¸ì›¨ì´ ì—°ë™
3. âœ… ì£¼ë¬¸ ìƒíƒœ ê´€ë¦¬

### Phase 2 (1ì£¼)
1. âœ… ë¦¬ë·° ì‹œìŠ¤í…œ êµ¬í˜„
2. âœ… í‰ì  ë° í†µê³„
3. âœ… í¬í†  ë¦¬ë·°

### Phase 3 (1ì£¼)
1. âœ… PWA ì„¤ì •
2. âœ… ì˜¤í”„ë¼ì¸ ì§€ì›
3. âœ… í‘¸ì‹œ ì•Œë¦¼

### Phase 4 (1-2ì£¼)
1. âœ… ê³ ê¸‰ í•„í„°ë§
2. âœ… ê²€ìƒ‰ ê³ ë„í™”
3. âœ… ì¿ í°/í¬ì¸íŠ¸ ì‹œìŠ¤í…œ

### Phase 5 (2ì£¼)
1. âœ… ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ
2. âœ… ìƒí’ˆ/ì£¼ë¬¸ ê´€ë¦¬
3. âœ… í†µê³„ ë¶„ì„

### Phase 6 (2ì£¼)
1. âœ… AI ì¶”ì²œ ì‹œìŠ¤í…œ
2. âœ… ê°œì¸í™” ê¸°ëŠ¥
3. âœ… A/B í…ŒìŠ¤íŠ¸

---

## ë§ˆë¬´ë¦¬

ì´ ê°€ì´ë“œì— ì œì‹œëœ ê¸°ëŠ¥ë“¤ì„ êµ¬í˜„í•˜ë©´ ì™„ì„±ë„ ë†’ì€ ì´ì»¤ë¨¸ìŠ¤ í”Œë«í¼ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê° ê¸°ëŠ¥ì€ ë…ë¦½ì ìœ¼ë¡œ êµ¬í˜„ ê°€ëŠ¥í•˜ë©°, ë¹„ì¦ˆë‹ˆìŠ¤ ìš°ì„ ìˆœìœ„ì— ë”°ë¼ ì„ íƒì ìœ¼ë¡œ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### í•µì‹¬ ì„±ê³µ ìš”ì†Œ
1. **ì‚¬ìš©ì ê²½í—˜**: ì§ê´€ì ì´ê³  ë¹ ë¥¸ ì‡¼í•‘ ê²½í—˜
2. **ì„±ëŠ¥ ìµœì í™”**: ë¹ ë¥¸ ë¡œë”©ê³¼ ë°˜ì‘ì„±
3. **ì‹ ë¢°ì„±**: ì•ˆì •ì ì¸ ê²°ì œì™€ ë°°ì†¡
4. **ê°œì¸í™”**: AI ê¸°ë°˜ ë§ì¶¤ ì¶”ì²œ
5. **ëª¨ë°”ì¼ ìµœì í™”**: PWAë¡œ ì•± ê°™ì€ ê²½í—˜

### ğŸ¯ ì´ˆê¸‰ ê°œë°œìë¥¼ ìœ„í•œ í•™ìŠµ íŒ

#### 1. ì‘ì€ ê¸°ëŠ¥ë¶€í„° ì‹œì‘í•˜ê¸°
- âŒ í•œ ë²ˆì— ëª¨ë“  ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ë ¤ê³  í•˜ì§€ ë§ˆì„¸ìš”
- âœ… ë¦¬ë·° ì‹œìŠ¤í…œ â†’ í•„í„°ë§ â†’ ì£¼ë¬¸/ê²°ì œ ìˆœìœ¼ë¡œ ì ì§„ì  êµ¬í˜„

#### 2. ì½”ë“œ ì´í•´í•˜ê³  ì‘ì„±í•˜ê¸°
- âŒ ì½”ë“œë¥¼ ê·¸ëŒ€ë¡œ ë³µì‚¬-ë¶™ì—¬ë„£ê¸°ë§Œ í•˜ì§€ ë§ˆì„¸ìš”
- âœ… ê° ì¤„ì´ ë¬´ì—‡ì„ í•˜ëŠ”ì§€ ì´í•´í•˜ê³ , ì£¼ì„ì„ ë‹¬ë©° í•™ìŠµ

#### 3. ì—ëŸ¬ë¥¼ ë‘ë ¤ì›Œí•˜ì§€ ì•Šê¸°
- âŒ ì—ëŸ¬ê°€ ë‚˜ë©´ í¬ê¸°í•˜ì§€ ë§ˆì„¸ìš”
- âœ… ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì½ê³ , êµ¬ê¸€ë§í•˜ê³ , í•´ê²°í•˜ëŠ” ê³¼ì •ì´ ì„±ì¥ì…ë‹ˆë‹¤

#### 4. ë¬¸ì„œí™” ìŠµê´€
- âŒ ì½”ë“œë§Œ ì‘ì„±í•˜ê³  ëë‚´ì§€ ë§ˆì„¸ìš”
- âœ… êµ¬í˜„í•œ ê¸°ëŠ¥ì— ëŒ€í•œ ë¬¸ì„œë¥¼ ì‘ì„±í•˜ë©° ë³µìŠµ

#### 5. ì»¤ë®¤ë‹ˆí‹° í™œìš©
- Stack Overflow, Reddit, í•œêµ­ ê°œë°œì ì»¤ë®¤ë‹ˆí‹° í™œìš©
- ì§ˆë¬¸í•  ë•ŒëŠ” ë¬¸ì œ ìƒí™©ì„ êµ¬ì²´ì ìœ¼ë¡œ ì„¤ëª…

í”„ë¡œì íŠ¸ì˜ ì„±ê³µì„ ìœ„í•´ ë‹¨ê³„ì ìœ¼ë¡œ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê³ , ì‚¬ìš©ì í”¼ë“œë°±ì„ ë°”íƒ•ìœ¼ë¡œ ì§€ì†ì ìœ¼ë¡œ ê°œì„ í•´ ë‚˜ê°€ì‹œê¸° ë°”ëë‹ˆë‹¤. í™”ì´íŒ…! ğŸš€